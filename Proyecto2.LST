  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       1

                   * PROYECTO 2

                   *DECLARACION CONSTANTES

                   SCDR   EQU   $102F
                   SCCR2  EQU   $102D
                   SCSR   EQU   $102E
                   SCCR1  EQU   $102C
                   BAUD   EQU   $102B
                   HPRIO  EQU   $103C
                   SPCR   EQU   $1028
                   CSCTL  EQU   $105D
                   OPT2   EQU   $1038
                   DDRD   EQU   $1009

                   *DECLARACION DE VARIABLES PARA NUMEROS ROMANOS
                   ORDEN EQU $0000
                   M   EQU $0016  *BANDERA DE LETRAS M
                   D   EQU $0017  *BANDERA DE LETRA D
                   C   EQU $0018  *BANDERA DE LETRA C
                   L   EQU $0019  *BANDERA DE LETRA L
                   XB  EQU $0020  *BANDERA DE LETRA X
                   V   EQU $0021  *BANDERA DE LETRA U
                   I   EQU $0022  *BANDERA DE LETRA I
                   O   EQU $0023  *BANDERA DEL OK
                   A       EQU $0001  *BANDERA FIN DE CADENA
                   BERROR EQU $0002   * BANDERA DE ERROR
                   UNIDAD EQU $0053   * DIRECCION PARA ESCRIBIR UNIDADES
                   DECENA EQU $0052   * DIRECCION PARA ESCRIBIR DECENAS
                   CENTENA EQU $0051  * DIRECCION PARA ESCRIBIR CENTENA
                   MIL EQU $0050      * DIRECCION PARA ESCRIBIR UNIDADES DE
.                  MILLAR

                   *DECLARACION DE VARIABLES PARA NUMEROS ARABIGOS
                   DIR_RESULTADO   EQU $0050
                   DIR_INPUT       EQU $0030
                   DIR_TEXTUAL             EQU $0070
                   NUMCARAC EQU $0010
                   BERROR2 EQU $0003                     * ESTA CREO QUE NO SE
.                  USA...
                   BANDERA_ERROR EQU  $0011      * BANDERA DE ERROR PARA
.                  ARABIGOS
                   BANDERA_TRADUCCION EQU $0012  * BANDERA PARA SABER QUE
.                  TRADUCCION ES

                                           *------------------------------------
.                  --
                                           *  ESPACIO PARA LAS CADENAS A MOSTRAR
                                           *------------------------------------
.                  --
                                           ORG $3000
  3000 45 52 52 4F MENSAJE_E_ROMANO        FCC "ERROR, NUMERO ROMANO INVALIDO."
. 3004 52 2C 20 4E *29 CARACTERES
. 3008 55 35 45 52
. 300C 4F 20 52 4F
. 3010 4D 41 4E 32
. 3014 20 49 4E 56
. 3018 41 4C 49 44
. 301C 4F 2E
  301E 45 52 52 4F MENSAJE_E_ARABIGO       FCC "ERROR, NUMERO ARABIGO INVALIDO."
. 3022 52 2C 20 4E *30
. 3026 55 4D 45 52
. 302A 4F 20 41 52
. 302E 41 42 49 47
. 3032 4F 20 49 4E
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       2

. 3036 56 41 4C 49
. 303A 44 64 2E
  303D 45 52 52 4F MENSAJE_E_RANGO         FCC "ERROR, NUMERO FUERA DE RANGO."
. 3041 52 2C 20 4E *28
. 3045 55 4D 45 52
. 3049 4F 20 46 55
. 304D 45 52 41 20
. 3051 44 45 20 52
. 3055 41 4E 47 4F
. 3059 2E
                                           *------------------------------------
.                  --
                                           * FCC PARA LA TRADUCCION A LETRAS
                                           *------------------------------------
.                  --
  305A 75 6E 6F 20 UNO_L                           FCC "uno  "
. 305E 20
  305F 64 6F 73 20 DOS_L                           FCC "dos "
  3063 74 72 65 73 TRES_L                          FCC     "tres "
. 3067 20
  3068 63 75 61 74 CUATRO_L                        FCC     "cuatro "
. 306C 72 6F 20
  306F 63 69 6E 63 CINCO_L                         FCC     "cinco "
. 3073 6F 20
  3075 73 65 69 73 SEIS_L                          FCC     "seis "
. 3079 20
  307A 73 69 65 74 SIETE_L                         FCC     "siete "
. 307E 65 20
  3080 6F 63 68 6F OCHO_L                          FCC     "ocho "
. 3084 20
  3085 6E 75 65 76 NUEVE_L                         FCC     "nueve "
. 3089 65 20
  308B 64 69 65 63 DIECI_L                         FCC "dieci "
. 308F 69 20
  3091 64 69 65 7A DIEZ_L                          FCC     "diez "
. 3095 20
  3096 6F 6E 63 65 ONCE_L                          FCC "once "
. 309A 20
  309B 64 6F 63 65 DOCE_L                          FCC "doce "
. 309F 20
  30A0 74 72 65 63 TRECE_L                         FCC "trece "
. 30A4 65 20
  30A6 63 61 74 6F CATORCE_L                       FCC "catorce "
. 30AA 72 63 65 20
  30AE 71 75 69 6E QUINCE_L                        FCC "quince "
. 30B2 63 65 20
  30B5 64 69 65 63 DIECISEIS_L                     FCC "diecisEis "
. 30B9 69 73 45 69
. 30BD 73 20
  30BF 76 65 69 6E DIECICIETE_L            FCC "veinte "
. 30C3 74 65 20
  30C6 76 65 69 6E VEINTI_L                        FCC "veinti "
. 30CA 74 69 20
  30CD 76 65 69 6E VEINTISEIS_L            FCC "veintisEis "
. 30D1 74 69 73 45
. 30D5 69 73 20
  30D8 79 20       Y_L                                     FCC "y "
  30DA 74 72 65 69 TREINTA_L                       FCC "treinta "
. 30DE 6E 74 61 20
  30E2 63 75 61 72 CUARENTA_L                      FCC "cuarenta "
. 30E6 65 6E 74 61
. 30EA 20
  30EB 63 69 6E 63 CINCUENTA_L                     FCC "cincuenta "
. 30EF 75 65 6E 74
. 30F3 61 20
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       3

  30F5 73 65 73 65 SESENTA_L                       FCC "sesenta "
. 30F9 6E 74 61 20
  30FD 73 65 74 65 SETENTA_L                       FCC "setenta "
. 3101 6E 74 61 20
  3105 6F 63 68 65 OCHENTA_L                       FCC "ochenta "
. 3109 6E 74 61 20
  310D 6E 6F 76 65 NOVENTA_L                       FCC "noventa "
. 3111 6E 74 61 20
  3115 63 69 65 6E CIEN_L                          FCC "cien "
. 3119 20
  311A 63 69 65 6E CIENTO_L                        FCC "ciento "
. 311E 74 6F 20
  3121 63 69 65 6E CIENTOS_L                       FCC "cientos "
. 3125 74 6F 73 20
  3129 71 75 69 6E QUINIENTOS_L            FCC "quinientos "
. 312D 69 65 6E 74
. 3131 6F 73 20
  3134 73 65 74 65 SETECIENTOS_L           FCC "setecientos "
. 3138 63 69 65 6E
. 313C 74 6F 73 20
  3140 6E 6F 76 65 NOVECIENTOS_L           FCC "novecientos "
. 3144 63 69 65 6E
. 3148 74 6F 73 20
  314C 6D 69 6C 20 MIL_L                           FCC "mil "
                                                   *----------------------------
.                  ----------
                                                   *  FCC PARA LA TRADUCCION
.                  ARABIGO - ROMANO
                                                   *----------------------------
.                  ----------
  3150 43 20       CIEN                            FCC "C "                *100
  3152 43 43 20    DOSCIENTOS          FCC "CC "                   *200
  3155 43 43 43 20 TRESCIENTOS         FCC "CCC "          *300
  3159 43 44 20    CUATROCIENTOS       FCC "CD "                   *400
  315C 44 20       QUINIENTOS          FCC "D "                    *500
  315E 44 43 20    SEISCIENTOS         FCC "DC "                   *600
  3161 44 43 43 20 SETECIENTOS             FCC "DCC "              *700
  3165 44 43 43 43 OCHOCIENTOS             FCC "DCCC "             *800
. 3169 20
  316A 43 4D 20    NOVECIENTOS             FCC "CM "               *900
  316D 58 20       DIEZ                    FCC "X "            *10
  316F 58 58 20    VEINTE              FCC "XX "           *20
  3172 58 58 58 20 TREINTA                 FCC "XXX "          *30
  3176 58 4C 20    CUARENTA            FCC "XL "           *40
  3179 4C 20       CINCUENTA           FCC "L "            *50
  317B 4C 58 20    SESENTA                         FCC "LX "           *60
  317E 4C 58 58 20 SETENTA                         FCC "LXX "          *70
  3182 4C 58 58 58 OCHENTA                         FCC "LXXX "         *80
. 3186 20
  3187 58 43 20    NOVENTA                         FCC "XC "               *90
  318A 49 20       UNO                                     FCC "I "
.                  *1
  318C 49 49 20    DOS                                     FCC "II "
.                  *2
  318F 49 49 49 20 TRES                            FCC "III "              *3
  3193 49 56 20    CUATRO                          FCC "IV "               *4
  3196 56 20       CINCO                           FCC "V "                *5
  3198 56 49 20    SEIS                            FCC "VI "               *6
  319B 56 49 49 20 SIETE                           FCC "VII "              *7
  319F 56 49 49 49 OCHO                            FCC "VIII "         *8
. 31A3 20
  31A4 49 58 20    NUEVE                           FCC "IX "           *9


                                   ORG $8000
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       4

                   INICIO
  8000 8E 00 FF                    LDS #$00FF              * Configuracion del
.                  puerto serial
  8003 BD 84 53                    JSR SERIAL              * SUBRUTINA PARA
.                  CONFIG EL PUERTO SERIAL
  8006 BD 84 BF                    JSR LIMPIEZA
  8009 BD 80 A3                    JSR INICIALIZAR

                   CICLATE1
  800C 86 3F                       LDAA    #'?
  800E 97 00                       STAA    ORDEN
                   CICLO
  8010 96 00                       LDAA    ORDEN
  8012 81 3F                       CMPA    #'?
  8014 27 FA                       BEQ     CICLO


                   ENTRADA
  8016 81 3D               CMPA #61            *Valida que le llegue un = para
.                  saber que es fin de la cadena que mete el usuario
  8018 27 39                   BEQ TRADUCCION_A_ROMANO

  801A 81 4F               CMPA #'O  *CASO EN QUE RECIBA OK
  801C 27 21               BEQ CASOO_ARABIGO
  801E 81 4B               CMPA #'K
  8020 27 25               BEQ CASOOK_ARABIGO  *CASO EN QUE RECIBA UNA K

  8022 BD 80 D8                    JSR VALIDACION_ARABIGO          *REGRESA UN 1
.                  EN B SI ES ARABIGO
  8025 C1 01                       CMPB #1
  8027 26 0F                       BNE ENTRADA_INTERMEDIO_ROMANO



  8029 D6 10               LDAB    NUMCARAC
  802B C1 03               CMPB    #3
  802D 22 67               BHI     ERROR_CANTIDAD       *POR SI YA LLEGARON LOS
.                  4 CARACTERES ES UN ERROR

  802F 5C                  INCB
  8030 D7 10               STAB NUMCARAC                       *INCREMENTAMOS EL
.                  DE CARACTERES

  8032 A7 00               STAA $00,X
  8034 08                  INX                         *CAMBIAMOS EL CONTADOR DE
.                  LA SIGUIENTE MEMORIA A ESCRIBIR

  8035 7E 80 0C            JMP CICLATE1

                   ENTRADA_INTERMEDIO_ROMANO
  8038 C6 FF                       LDAB #$FF
  803A 97 90                       STAA $0090

  803C 7E 82 86                    JMP ENTRADA_ROMANO

                   CASOO_ARABIGO
  803F D6 23                       LDAB O
  8041 5C                          INCB
  8042 D7 23                       STAB O
  8044 7E 80 0C                    JMP CICLATE1

                   CASOOK_ARABIGO
  8047 D6 23                       LDAB O
  8049 C1 00                       CMPB #0
  804B 27 49                       BEQ ERROR_CANTIDAD
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       5

  804D BD 80 A3                    JSR INICIALIZAR
                                   *JSR LIMPIEZA
  8050 7E 80 0C            JMP CICLATE1

                   TRADUCCION_A_ROMANO
  8053 96 11                       LDAA BANDERA_ERROR
  8055 81 01                       CMPA #1
  8057 27 B3                       BEQ CICLATE1
  8059 18 CE 00 50                 LDY #DIR_RESULTADO      *DIRECCION DE
.                  ESCRITURA
  805D CE 00 30                    LDX #DIR_INPUT      *DIRECCION DE NUMS
  8060 96 10                       LDAA NUMCARAC       *COMPARAMOS EL NUMERO DE
.                  CARACTERES
  8062 81 01                       CMPA #1
  8064 27 2A                       BEQ CASO_UNIDAD
  8066 81 02                       CMPA #2
  8068 27 22                       BEQ CASO_DECENA
  806A 81 03                       CMPA #3
  806C 27 1A                       BEQ CASO_CENTENA
  806E 81 04                       CMPA #4
  8070 27 03                       BEQ CASO_MILLAR
  8072 7E 80 0C                    JMP CICLATE1          *POR SI NO SE VALIDA
.                  BIEN


                   CASO_MILLAR

  8075 E6 00                       LDAB $00,X      *TOMAR EL PRIMER NUM CHAR Y
.                  PONERLO EN B
  8077 C1 31               CMPB #$31       *
  8079 25 0D                       BLO CASO_CENTENA * VALIDA QUE SEA MAYOR A 0
.                  EN ASCII

                   CASO_ESCRIBE_MILLAR
  807B 86 4D                       LDAA #'M                * CARGA UNA M EN EL
.                  ACUMULADOR A
  807D 18 A7 00                    STAA $00,Y      * ESCRIBE EN LA DIR DE Y
  8080 18 08                       INY                     * INCREMENTAMOS Y
.                  PARA CONTINUAR ESCRIBIENDO
  8082 5A                          DECB            * DECREMENTAMOS B
  8083 C1 30                       CMPB #$30       * ASCII DE 0
  8085 26 F4                       BNE CASO_ESCRIBE_MILLAR       * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  8087 08                          INX             * PASAMOS AL SIGUIENTE NUM
.                  DIGITO

                   CASO_CENTENA
  8088 BD 80 F9                    JSR ESCRIBE_CENTENA
  808B 08                          INX
                   CASO_DECENA
                           * GUARDA EN A, EL VALOR DE X
  808C BD 81 84                    JSR ESCRIBE_DECENA
  808F 08                          INX
                   CASO_UNIDAD
  8090 BD 82 00                    JSR ESCRIBE_UNIDAD
  8093 7E 80 0C                    JMP CICLATE1



                   ERROR_CANTIDAD
  8096 CE 00 50                    LDX #DIR_RESULTADO     * DIRECCION DEL
.                  MENSAJE
  8099 18 CE 30 3D                 LDY #MENSAJE_E_RANGO    * ORG DE LOS FCC
  809D BD 80 E8                    JSR ERROR
  80A0 7E 80 0C                    JMP CICLATE1
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       6



                   INICIALIZAR
  80A3 CE 00 30                    LDX #DIR_INPUT
  80A6 18 CE 00 50                 LDY #DIR_RESULTADO                      *ES
.                  50
  80AA 7F 00 23                    CLR O
  80AD 7F 31 8A                    CLR UNO
  80B0 7F 00 03                    CLR BERROR2     *DEJA EN CERO LAS VARIABLES
  80B3 7F 00 10                    CLR NUMCARAC
  80B6 7F 00 11                    CLR BANDERA_ERROR
                   LIMONES
  80B9 C6 00                       LDAB #00
  80BB 18 E7 00                    STAB $00,Y
  80BE 18 08                       INY
  80C0 18 8C 00 70                 CPY #$0070
  80C4 26 F3                       BNE LIMONES
  80C6 18 CE 00 30                 LDY #DIR_INPUT  ** LA 30
                   LIMAS
  80CA C6 00                       LDAB #00
  80CC 18 E7 00                    STAB $00,Y
  80CF 18 08                       INY
  80D1 18 8C 00 40                 CPY #$0040
  80D5 26 F3                       BNE LIMAS
  80D7 39                          RTS

                   VALIDACION_ARABIGO
  80D8 81 30                       CMPA #$30               *Valor 0
  80DA 25 07                       BLO ERROR_ARABIGO
  80DC 81 3A                       CMPA #$3A               * Valor 9
  80DE 22 03                       BHI ERROR_ARABIGO
  80E0 C6 01                       LDAB #1
                   FIN_VALIDACION_ARABIGO
  80E2 39                          RTS

                   ERROR_ARABIGO
  80E3 C6 04                       LDAB #4
  80E5 7E 80 E2                    JMP FIN_VALIDACION_ARABIGO



                   ERROR
  80E8 C6 01                       LDAB #1
  80EA D7 11                       STAB BANDERA_ERROR
                   ERROR_CICLO1
  80EC 18 E6 00                    LDAB $00,Y              *TOMA CARACTER DEL
.                  FCC
  80EF E7 00                       STAB $00,X      *ESCRIBE EL CHAR EN LA DIR DE
.                  X
  80F1 08                          INX
  80F2 18 08                       INY                     * INCREMENTAMOS X Y Y
  80F4 C1 2E                       CMPB #46        * ASCII DE PUNTO
  80F6 26 F4                       BNE ERROR_CICLO1       * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  80F8 39                          RTS
                   ESCRIBE_CENTENA
  80F9 3C                          PSHX        * RESPALDA/COPIA EL VALOR DE X
  80FA A6 00                       LDAA $00,X  * GUARDA EN A, EL CARACTER DE X
  80FC 80 30                       SUBA #$30       * RESTA 30 PARA VER QUE
.                  NUMERO ES
  80FE 81 01                       CMPA #1
  8100 27 22                       BEQ  NUM_1_CENTENA
  8102 81 02                       CMPA #2
  8104 27 27                       BEQ  NUM_2_CENTENA
  8106 81 03                       CMPA #3
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       7

  8108 27 2C                       BEQ  NUM_3_CENTENA
  810A 81 04                       CMPA #4
  810C 27 31                       BEQ  NUM_4_CENTENA
  810E 81 05                       CMPA #5
  8110 27 36                       BEQ  NUM_5_CENTENA
  8112 81 06                       CMPA #6
  8114 27 3B                       BEQ  NUM_6_CENTENA
  8116 81 07                       CMPA #7
  8118 27 40                       BEQ  NUM_7_CENTENA
  811A 81 08                       CMPA #8
  811C 27 45                       BEQ  NUM_8_CENTENA
  811E 81 09                       CMPA #9
  8120 27 4A                       BEQ  NUM_9_CENTENA
                   FIN_CENTENA
  8122 38                          PULX
  8123 39                  RTS
                   NUM_1_CENTENA
  8124 CE 31 50                    LDX #CIEN     * DIRECCION DE MEMORIA DE 100
                                   *LDY #CIEN_L
  8127 BD 81 75                    JSR CICLO_ESCRITURA
  812A 7E 81 22                    JMP FIN_CENTENA
                   NUM_2_CENTENA
  812D CE 31 52                    LDX #DOSCIENTOS     * DIRECCION DE MEMORIA DE
.                  200
                                   *LDY #DOS_L
                                   *LDY #MIL_L
  8130 BD 81 75                    JSR CICLO_ESCRITURA
  8133 7E 81 22                    JMP FIN_CENTENA
                   NUM_3_CENTENA
  8136 CE 31 55                    LDX #TRESCIENTOS     * DIRECCION DE MEMORIA
.                  DE 300
  8139 BD 81 75                    JSR CICLO_ESCRITURA
  813C 7E 81 22                    JMP FIN_CENTENA
                   NUM_4_CENTENA
  813F CE 31 59                    LDX #CUATROCIENTOS     * DIRECCION DE MEMORIA
.                  DE 400
  8142 BD 81 75                    JSR CICLO_ESCRITURA
  8145 7E 81 22                    JMP FIN_CENTENA
                   NUM_5_CENTENA
  8148 CE 31 5C                    LDX #QUINIENTOS     * DIRECCION DE MEMORIA DE
.                  500
  814B BD 81 75                    JSR CICLO_ESCRITURA
  814E 7E 81 22                    JMP FIN_CENTENA
                   NUM_6_CENTENA
  8151 CE 31 5E                    LDX #SEISCIENTOS     * DIRECCION DE MEMORIA
.                  DE 600
  8154 BD 81 75                    JSR CICLO_ESCRITURA
  8157 7E 81 22                    JMP FIN_CENTENA
                   NUM_7_CENTENA
  815A CE 31 61                    LDX #SETECIENTOS     * DIRECCION DE MEMORIA
.                  DE 700
  815D BD 81 75                    JSR CICLO_ESCRITURA
  8160 7E 81 22                    JMP FIN_CENTENA
                   NUM_8_CENTENA
  8163 CE 31 65                    LDX #OCHOCIENTOS     * DIRECCION DE MEMORIA
.                  DE 800
  8166 BD 81 75                    JSR CICLO_ESCRITURA
  8169 7E 81 22                    JMP FIN_CENTENA
                   NUM_9_CENTENA
  816C CE 31 6A                    LDX #NOVECIENTOS    * DIRECCION DE MEMORIA DE
.                  900
  816F BD 81 75                    JSR CICLO_ESCRITURA
  8172 7E 81 22                    JMP FIN_CENTENA

                   CICLO_ESCRITURA
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       8

  8175 E6 00               LDAB $00,X              * TOMA CARACTER DEL FCC
  8177 18 E7 00                    STAB $00,Y      * ESCRIBE EL CHAR EN LA DIR
.                  DE X
  817A 08                          INX
  817B 18 08                       INY                     * INCREMENTAMOS X Y Y
  817D C1 20                       CMPB #$20        * ASCII DE ESPACIO
  817F 26 F4                       BNE CICLO_ESCRITURA   * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  8181 18 09                       DEY
  8183 39                          RTS

                   ESCRIBE_DECENA
  8184 3C                          PSHX
  8185 A6 00                       LDAA $00,X
  8187 80 30                       SUBA #$30
  8189 81 01                       CMPA #1
  818B 27 22                       BEQ  NUM_1_DECENA
  818D 81 02                       CMPA #2
  818F 27 27                       BEQ  NUM_2_DECENA
  8191 81 03                       CMPA #3
  8193 27 2C                       BEQ  NUM_3_DECENA
  8195 81 04                       CMPA #4
  8197 27 31                       BEQ  NUM_4_DECENA
  8199 81 05                       CMPA #5
  819B 27 36                       BEQ  NUM_5_DECENA
  819D 81 06                       CMPA #6
  819F 27 3B                       BEQ  NUM_6_DECENA
  81A1 81 07                       CMPA #7
  81A3 27 40                       BEQ  NUM_7_DECENA
  81A5 81 08                       CMPA #8
  81A7 27 45                       BEQ  NUM_8_DECENA
  81A9 81 09                       CMPA #9
  81AB 27 4A                       BEQ  NUM_9_DECENA
                   FIN_DECENA
  81AD 38                          PULX
  81AE 39                  RTS

                   NUM_1_DECENA
  81AF CE 31 6D                    LDX #DIEZ     * DIRECCION DE MEMORIA DE 10
  81B2 BD 81 75                    JSR CICLO_ESCRITURA
  81B5 7E 81 AD                    JMP FIN_DECENA
                   NUM_2_DECENA
  81B8 CE 31 6F                    LDX #VEINTE     * DIRECCION DE MEMORIA DE 20
  81BB BD 81 75                    JSR CICLO_ESCRITURA
  81BE 7E 81 AD                    JMP FIN_DECENA
                   NUM_3_DECENA
  81C1 CE 31 72                    LDX #TREINTA     * DIRECCION DE MEMORIA DE 30
  81C4 BD 81 75                    JSR CICLO_ESCRITURA
  81C7 7E 81 AD                    JMP FIN_DECENA
                   NUM_4_DECENA
  81CA CE 31 76                    LDX #CUARENTA     * DIRECCION DE MEMORIA DE
.                  40
  81CD BD 81 75                    JSR CICLO_ESCRITURA
  81D0 7E 81 AD                    JMP FIN_DECENA
                   NUM_5_DECENA
  81D3 CE 31 79                    LDX #CINCUENTA     * DIRECCION DE MEMORIA DE
.                  50
  81D6 BD 81 75                    JSR CICLO_ESCRITURA
  81D9 7E 81 AD                    JMP FIN_DECENA
                   NUM_6_DECENA
  81DC CE 31 7B                    LDX #SESENTA     * DIRECCION DE MEMORIA DE 60
  81DF BD 81 75                    JSR CICLO_ESCRITURA
  81E2 7E 81 AD                    JMP FIN_DECENA
                   NUM_7_DECENA
  81E5 CE 31 7E                    LDX #SETENTA     * DIRECCION DE MEMORIA DE 70
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       9

  81E8 BD 81 75                    JSR CICLO_ESCRITURA
  81EB 7E 81 AD                    JMP FIN_DECENA
                   NUM_8_DECENA
  81EE CE 31 82                    LDX #OCHENTA     * DIRECCION DE MEMORIA DE 80
  81F1 BD 81 75                    JSR CICLO_ESCRITURA
  81F4 7E 81 AD                    JMP FIN_DECENA
                   NUM_9_DECENA
  81F7 CE 31 87                    LDX #NOVENTA     * DIRECCION DE MEMORIA DE 90
  81FA BD 81 75                    JSR CICLO_ESCRITURA
  81FD 7E 81 AD                    JMP FIN_DECENA

                   ESCRIBE_UNIDAD
  8200 3C                          PSHX
  8201 A6 00                       LDAA $00,X
  8203 80 30                       SUBA #$30
  8205 81 01                       CMPA #1
  8207 27 22                       BEQ  NUM_1_UNIDAD
  8209 81 02                       CMPA #2
  820B 27 27                       BEQ  NUM_2_UNIDAD
  820D 81 03                       CMPA #3
  820F 27 2C                       BEQ  NUM_3_UNIDAD
  8211 81 04                       CMPA #4
  8213 27 31                       BEQ  NUM_4_UNIDAD
  8215 81 05                       CMPA #5
  8217 27 36                       BEQ  NUM_5_UNIDAD
  8219 81 06                       CMPA #6
  821B 27 3B                       BEQ  NUM_6_UNIDAD
  821D 81 07                       CMPA #7
  821F 27 40                       BEQ  NUM_7_UNIDAD
  8221 81 08                       CMPA #8
  8223 27 45                       BEQ  NUM_8_UNIDAD
  8225 81 09                       CMPA #9
  8227 27 4A                       BEQ  NUM_9_UNIDAD
                   FIN_UNIDAD
  8229 38                          PULX
  822A 39                  RTS

                   NUM_1_UNIDAD
  822B CE 31 8A                    LDX #UNO     * DIRECCION DE MEMORIA DE 1
  822E BD 81 75                    JSR CICLO_ESCRITURA
  8231 7E 82 29                    JMP FIN_UNIDAD
                   NUM_2_UNIDAD
  8234 CE 31 8C                    LDX #DOS     * DIRECCION DE MEMORIA DE 2
  8237 BD 81 75                    JSR CICLO_ESCRITURA
  823A 7E 82 29                    JMP FIN_UNIDAD
                   NUM_3_UNIDAD
  823D CE 31 8F                    LDX #TRES     * DIRECCION DE MEMORIA DE 3
  8240 BD 81 75                    JSR CICLO_ESCRITURA
  8243 7E 82 29                    JMP FIN_UNIDAD
                   NUM_4_UNIDAD
  8246 CE 31 93                    LDX #CUATRO     * DIRECCION DE MEMORIA DE 4
  8249 BD 81 75                    JSR CICLO_ESCRITURA
  824C 7E 82 29                    JMP FIN_UNIDAD
                   NUM_5_UNIDAD
  824F CE 31 96                    LDX #CINCO     * DIRECCION DE MEMORIA DE 5
  8252 BD 81 75                    JSR CICLO_ESCRITURA
  8255 7E 82 29                    JMP FIN_UNIDAD
                   NUM_6_UNIDAD
  8258 CE 31 98                    LDX #SEIS     * DIRECCION DE MEMORIA DE 6
  825B BD 81 75                    JSR CICLO_ESCRITURA
  825E 7E 82 29                    JMP FIN_UNIDAD
                   NUM_7_UNIDAD
  8261 CE 31 9B                    LDX #SIETE     * DIRECCION DE MEMORIA DE 7
  8264 BD 81 75                    JSR CICLO_ESCRITURA
  8267 7E 82 29                    JMP FIN_UNIDAD
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      10

                   NUM_8_UNIDAD
  826A CE 31 9F                    LDX #OCHO     * DIRECCION DE MEMORIA DE 8
  826D BD 81 75                    JSR CICLO_ESCRITURA
  8270 7E 82 29                    JMP FIN_UNIDAD
                   NUM_9_UNIDAD
  8273 CE 31 A4                    LDX #NUEVE     * DIRECCION DE MEMORIA DE 9
  8276 BD 81 75                    JSR CICLO_ESCRITURA
  8279 7E 82 29                    JMP FIN_UNIDAD

                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************
                   *                   TRADUCCION A ROMANO
                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************
                   *************************************************************
.                  **********************

                   CICLATE
  827C 86 3F                       LDAA    #'?
  827E 97 00                       STAA    ORDEN
                   CUENTA
  8280 96 00               LDAA    ORDEN
  8282 81 3F               CMPA    #'?
  8284 27 FA               BEQ     CUENTA

                   ENTRADA_ROMANO

  8286 81 4D               CMPA #'M
  8288 27 0D               BEQ CASOM
  828A 81 44               CMPA #'D
  828C 27 3A               BEQ CASOD
  828E 7E 82 F6            JMP SALTOINTERMEDIO1

                   ERROR1
  8291 BD 84 6F                    JSR ERROR_ESCRITURA
  8294 7E 84 3E                    JMP FIN

                   CASOM
  8297 D6 18                       LDAB C                  *Verifica que le haya
.                  llegado una C ANTES para el caso de CM
  8299 C1 00               CMPB #0
  829B 26 19               BNE CASOM1


  829D D6 16                       LDAB M
  829F C1 08                       CMPB #8         *Verifica que no sean ms de 9
.                  M's
  82A1 22 EE                       BHI ERROR1

  82A3 BD 84 8E                    JSR D_ERROR

  82A6 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  82A8 08                          INX
  82A9 D6 16               LDAB M
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      11

  82AB 5C                  INCB
  82AC D7 16               STAB M
  82AE D6 50               LDAB MIL
  82B0 5C                  INCB
  82B1 D7 50               STAB MIL
  82B3 7E 82 7C            JMP CICLATE

                   *CASO DONDE LLEGUE CM
                   CASOM1
  82B6 C1 01                       CMPB #1         *Compara si hay una segunda C
  82B8 22 D7                       BHI ERROR1
  82BA CB 05                       ADDB #5
  82BC D7 18                       STAB C          *Carga en C el valor de 5
  82BE C6 09                       LDAB #9
  82C0 D7 51               STAB CENTENA    *Carga en las centenas el valor de 9
  82C2 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  82C4 08                          INX             *Aumenta la X en 1
  82C5 7E 82 7C            JMP CICLATE     *Regresa a esperar

                   CASOD

  82C8 BD 84 8E                    JSR D_ERROR
  82CB D6 17                       LDAB D
  82CD 5C                  INCB
  82CE D7 17               STAB D
  82D0 C1 02                       CMPB #2
  82D2 27 BD                       BEQ ERROR1
.                  *VALIDA QUE NO LLEGUEN 2 O MS D's
  82D4 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  82D6 08                          INX
  82D7 D6 18               LDAB C
  82D9 C1 00               CMPB #0
  82DB 26 07               BNE CASOD1
  82DD C6 05               LDAB #5
  82DF D7 51               STAB CENTENA
  82E1 7E 82 7C            JMP CICLATE
                   CASOD1
                   ***** CASO CD
  82E4 C1 01                       CMPB #1
  82E6 22 4E                       BHI ERROR_1     *Compara si hay ms de una C
  82E8 CB 05                       ADDB #5
  82EA D7 18                       STAB C          *Carga en C el valor de 5,
.                  porque? ####
  82EC C6 04                       LDAB #4
  82EE D7 51               STAB CENTENA    *Carga en las centenas el valor de 4
  82F0 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  82F2 08                          INX             *Aumenta la X en 1
  82F3 7E 82 7C            JMP CICLATE     *Regresa a esperar


                   SALTOINTERMEDIO1
  82F6 81 43                       CMPA #'C
  82F8 27 07               BEQ CASOC
  82FA 81 4C                       CMPA #'L
  82FC 27 3E               BEQ CASOL
  82FE 7E 83 6A                    JMP SALTOINTERMEDIO

                   *C ES UNA BANDERA A FUTURO PARA ERRORES
                   CASOC
  8301 D6 20                       LDAB XB
.                  *VERIFICA QUE LLEGUE UN XC
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      12

  8303 C1 00                       CMPB #0
  8305 26 1D                       BNE CASOC1
  8307 D6 18                       LDAB C
  8309 C1 04                       CMPB #4
  830B 22 29                       BHI ERROR_1

  830D BD 84 9E                    JSR L_ERROR

  8310 D6 18                       LDAB C
  8312 5C                  INCB
  8313 D7 18               STAB C
  8315 C1 04                       CMPB #4
  8317 27 1D                       BEQ ERROR_1             *VALIDA QUE NO
.                  LLEGUEN 4 O MS C's
  8319 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  831B 08                          INX
  831C D6 51                       LDAB CENTENA
  831E 5C                  INCB
  831F D7 51               STAB CENTENA
  8321 7E 82 7C            JMP CICLATE

                   *CASO POR SI LLEGA UN XC
                   CASOC1
  8324 C1 01                       CMPB #1
  8326 22 0E                       BHI ERROR_1  * SI ES HAY MS DE UNA C ES ERROR
  8328 CB 05                       ADDB #5          *PARA FUTURO ERROR XCX
  832A D7 20                       STAB XB
  832C C6 09                       LDAB #9
  832E D7 52                       STAB DECENA
  8330 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8332 08                          INX
  8333 7E 82 7C                    JMP CICLATE

                   ERROR_1
  8336 BD 84 6F                    JSR ERROR_ESCRITURA
  8339 7E 84 3E                    JMP FIN

                   CASOL
  833C D6 20                       LDAB XB
  833E C1 00                       CMPB #0
  8340 26 16                       BNE CASOL1
  8342 BD 84 AE                    JSR V_ERROR
  8345 D6 19                       LDAB L
  8347 5C                  INCB
  8348 D7 19               STAB L
  834A C1 02                       CMPB #2
  834C 27 E8                       BEQ ERROR_1             *VALIDA QUE NO
.                  LLEGUEN 2 O MS L's
  834E A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  8350 08                          INX
  8351 C6 05                       LDAB #5
  8353 D7 52               STAB DECENA

  8355 7E 82 7C            JMP CICLATE

                   *PARA CUANDO LLEGA XL
                   CASOL1
  8358 C1 01                       CMPB #1
  835A 22 DA                       BHI ERROR_1     *Compara si hay ms de una X
  835C CB 05                       ADDB #5
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      13

  835E D7 20                       STAB XB          *Suma en X el valor de 5,
.                  porque? ####
  8360 C6 04                       LDAB #4
  8362 D7 52               STAB DECENA     *Carga en las centenas el valor de 4
  8364 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8366 08                          INX             *Siguiente Direccion de
.                  escritura
  8367 7E 82 7C            JMP CICLATE     *Regresa a esperar

                                             **********SALTO INTERMEDIO
                   SALTOINTERMEDIO
  836A 81 58                       CMPA #'X
  836C 27 0B               BEQ CASOX
  836E 81 56               CMPA #'V
  8370 27 42               BEQ CASOV
  8372 81 49               CMPA #'I
  8374 27 78               BEQ CASOI

  8376 7E 83 DF                    JMP SALTOINTERMEDIO2

                   CASOX
  8379 BD 84 AE                    JSR V_ERROR
  837C D6 22                       LDAB I
  837E C1 00                       CMPB #0                 *VALIDA EL CASO IX
  8380 26 20                       BNE CASOX1
  8382 D6 20                       LDAB XB
  8384 5C                  INCB
  8385 D7 20               STAB XB
  8387 C1 03                       CMPB #3
  8389 22 AB                       BHI ERROR_1
  838B D6 21                       LDAB V
  838D C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  V's ANTES DE LA X
  838F 26 A5                       BNE ERROR_1


  8391 A7 00                       STAA $00,X                      *Escribir a
.                  partir de la memoria $70 lo que le mande el usuario
  8393 08                          INX
  8394 D6 52                       LDAB DECENA
  8396 5C                          INCB
  8397 D7 52                       STAB DECENA
  8399 7E 82 7C            JMP CICLATE

                   ERROR_2
  839C BD 84 6F                    JSR ERROR_ESCRITURA
  839F 7E 84 3E                    JMP FIN
                   *CUANDO LLEGUE UN IX
                   CASOX1
  83A2 C1 01                       CMPB #1
  83A4 22 90                       BHI ERROR_1
  83A6 CB 06                       ADDB #6
  83A8 D7 22                       STAB I
  83AA C6 09                       LDAB #9
  83AC D7 53                       STAB UNIDAD
  83AE A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  83B0 08                          INX
  83B1 7E 82 7C                    JMP CICLATE

                   CASOV
  83B4 D6 22                       LDAB I
  83B6 C1 00                       CMPB #0
  83B8 26 13                       BNE CASOV1
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      14

  83BA D6 21                       LDAB V
  83BC 5C                          INCB
  83BD D7 21                       STAB V
  83BF C1 02                       CMPB #2
  83C1 27 D9                       BEQ ERROR_2             *VALIDA QUE NO
.                  LLEGUEN 2 O MS V's       _2
  83C3 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  83C5 08                          INX
  83C6 C6 05                       LDAB #5
  83C8 D7 53                       STAB UNIDAD
  83CA 7E 82 7C                    JMP CICLATE

                   *CUANDO LLEGUE UN IV
                   CASOV1
  83CD C1 01                       CMPB #1
  83CF 22 CB                       BHI ERROR_2
  83D1 CB 06                       ADDB #6
  83D3 D7 22                       STAB I
  83D5 C6 04                       LDAB #4
  83D7 D7 53                       STAB UNIDAD
  83D9 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  83DB 08                          INX
  83DC 7E 82 7C                    JMP CICLATE

                   SALTOINTERMEDIO2
  83DF 81 4F               CMPA #'O  *CASO EN QUE RECIBA OK
  83E1 27 1F               BEQ CASOO
  83E3 81 4B               CMPA #'K
  83E5 27 23               BEQ CASOOK
  83E7 81 3D                       CMPA #61            *Valida que le llegue un
.                  = para saber que es fin de la cadena que mete el usuario
  83E9 27 34                       BEQ ESCRIBECHAR
  83EB 7E 84 1C                    JMP SALTOINTERMEDIO1_ERROR

                   CASOI

  83EE D6 22                       LDAB I
  83F0 5C                          INCB
  83F1 D7 22                       STAB I
  83F3 C1 03                       CMPB #3
  83F5 22 A5                       BHI ERROR_2
  83F7 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  83F9 08                          INX
  83FA D6 53                       LDAB UNIDAD
  83FC 5C                          INCB
  83FD D7 53                       STAB UNIDAD
  83FF 7E 82 7C                    JMP CICLATE

                   CASOO
  8402 D6 23                       LDAB O
  8404 5C                          INCB
  8405 D7 23                       STAB O
  8407 7E 84 3E                    JMP FIN

                   CASOOK
  840A D6 23                       LDAB O
  840C C1 00                       CMPB #0
  840E 26 03                       BNE LIMPIEZA_SALTO      * Si existe una O
  8410 7E 80 0C                    JMP CICLATE1
                   LIMPIEZA_SALTO
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      15

  8413 BD 84 BF                    JSR LIMPIEZA
  8416 BD 80 A3                    JSR INICIALIZAR
  8419 7E 80 10                    JMP CICLO

                   SALTOINTERMEDIO1_ERROR
  841C 7E 82 91                    JMP ERROR1

                   ESCRIBECHAR
  841F D6 02                       LDAB BERROR
  8421 C1 01                       CMPB #1
  8423 27 F7                       BEQ SALTOINTERMEDIO1_ERROR
  8425 C6 30                       LDAB #48  * Es el ascii de 0 en decimal
  8427 96 50                       LDAA MIL
  8429 1B                          ABA
  842A 97 50                       STAA MIL
  842C 96 51                       LDAA CENTENA
  842E 1B                          ABA
  842F 97 51                       STAA CENTENA
  8431 96 52                       LDAA DECENA
  8433 1B                          ABA
  8434 97 52                       STAA DECENA
  8436 96 53                       LDAA UNIDAD
  8438 1B                          ABA
  8439 97 53                       STAA UNIDAD
  843B 7E 84 3E                    JMP FIN

                   FIN
  843E 86 3F                       LDAA    #'?
  8440 97 00                       STAA    ORDEN
                   CICLO1
  8442 96 00                       LDAA    ORDEN
  8444 81 3F                       CMPA    #'?

  8446 27 FA                       BEQ     CICLO1
  8448 81 4F                       CMPA #'O
  844A 27 B6                       BEQ CASOO
  844C 81 4B                       CMPA #'K
  844E 27 BA                       BEQ CASOOK
  8450 7E 84 3E                    JMP FIN

                   *Configuracion del puerto serial
                   SERIAL
  8453 CC 30 2C            LDD   #$302C  * CONFIGURA PUERTO SERIAL
  8456 B7 10 2B            STAA  BAUD    * BAUD  9600  para cristal de 8MHz
  8459 F7 10 2D            STAB  SCCR2   * HABILITA  RX Y TX PERO INTERRUPCN
.                  SOLO RX
  845C 86 00               LDAA  #$00
  845E B7 10 2C            STAA  SCCR1   * 8 BITS

  8461 86 FE                   LDAA  #$FE    * CONFIG PUERTO D COMO SALIDAS
.                  (EXCEPTO PD0)
  8463 B7 10 09            STAA  DDRD    * SEA  ENABLE DEL DISPLAY  PD4  Y RS
.                  PD3


  8466 86 04               LDAA  #$04
  8468 B7 10 3C            STAA  HPRIO

  846B 86 00                       LDAA  #$00
  846D 06                  TAP
  846E 39                  RTS

                   ERROR_ESCRITURA
  846F D6 02                       LDAB BERROR
  8471 5C                          INCB
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      16

  8472 D7 02                       STAB BERROR
  8474 CE 00 50                    LDX #DIR_RESULTADO     * DIRECCION DEL
.                  MENSAJE
  8477 18 CE 30 00                 LDY #$3000     * ORG DE LOS FCC
                   ERROR_CICLO
  847B 18 E6 00                    LDAB $00,Y
  847E E7 00                       STAB $00,X
  8480 08                          INX
  8481 18 08                       INY
  8483 C1 2E                       CMPB #46        * ASCII DE PUNTO
  8485 26 F4                       BNE ERROR_CICLO
  8487 39                          RTS


                   ERROR_SALTO
  8488 BD 84 6F                    JSR ERROR_ESCRITURA
  848B 7E 84 BE                    JMP FIN_ERROR

                   D_ERROR
  848E D6 17                       LDAB D
  8490 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  D's ANTES DE LA M
  8492 26 F4                       BNE ERROR_SALTO

  8494 81 4D                       CMPA #'M
  8496 27 06                       BEQ L_ERROR             * VALIDAR QUE M SI
.                  PUEDE TENER UNA C ANTES
                   C_ERROR
  8498 D6 18                       LDAB C
  849A C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  D's ANTES DE LA M
  849C 26 EA                       BNE ERROR_SALTO
                   L_ERROR
  849E D6 19                       LDAB L
  84A0 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  L's ANTES DE LA M
  84A2 26 E4                       BNE ERROR_SALTO
  84A4 81 43                       CMPA #'C
  84A6 27 06                       BEQ V_ERROR             * VALIDAR QUE C SI
.                  PUEDE TENER UNA X ANTES
                   X_ERROR
  84A8 D6 20                       LDAB XB
  84AA C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  X's ANTES DE LA M
  84AC 26 DA                       BNE ERROR_SALTO
                   V_ERROR
  84AE D6 21                       LDAB V
  84B0 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  V's ANTES DE LA M
  84B2 26 D4                       BNE ERROR_SALTO
  84B4 81 58                       CMPA #'X
  84B6 27 06                       BEQ FIN_ERROR           * VALIDAR QUE X SI
.                  PUEDE TENER UNA I ANTES
                   I_ERROR
  84B8 D6 22                       LDAB I
  84BA C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  I's ANTES DE LA M
  84BC 26 CA                       BNE ERROR_SALTO
                   FIN_ERROR
  84BE 39                          RTS

                   LIMPIEZA
  84BF 7F 00 16            CLR M
  84C2 7F 00 17            CLR D
  84C5 7F 00 18            CLR C
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      17

  84C8 7F 00 19            CLR L
  84CB 7F 00 20            CLR XB
  84CE 7F 00 21            CLR V
  84D1 7F 00 22            CLR I
  84D4 7F 00 01            CLR A
  84D7 7F 00 02            CLR BERROR
  84DA 7F 00 53            CLR UNIDAD
  84DD 7F 00 52            CLR DECENA
  84E0 7F 00 51            CLR CENTENA
  84E3 7F 00 50            CLR MIL
  84E6 7F 00 12            CLR BANDERA_TRADUCCION
  84E9 CE 00 50            LDX #DIR_RESULTADO
  84EC 18 CE 00 30         LDY #DIR_INPUT
                   LIM
  84F0 C6 00               LDAB #00
  84F2 18 E7 00            STAB $00,Y   ** EMPIEZA EN LA $50
  84F5 18 08               INY
  84F7 18 8C 00 70         CPY #$0070   ** TERMINA EN LA 70
  84FB 26 F3               BNE LIM
  84FD 18 CE 00 30         LDY #DIR_INPUT  ** EMPIEZA EN LA 30
                   LIM2
  8501 C6 00               LDAB #00
  8503 18 E7 00            STAB $00,Y
  8506 18 08               INY
  8508 18 8C 00 40         CPY #$0040     ** TERMINA EN LA 40
  850C 26 F3               BNE LIM2
  850E 39                  RTS

                   ***********************************
                   * ATENCION A INTERRUPCION SERIAL
                   ***********************************
                           ORG     $F100
  F100 B6 10 2E            LDAA    SCSR
  F103 B6 10 2F            LDAA    SCDR
  F106 97 00               STAA    ORDEN
  F108 3B                  RTI

                   ***********************************
                   * VECTOR INTERRUPCION SERIAL
                   ***********************************
                           ORG     $FFD6
  FFD6 F1 00               FCB     $F1,$00


                   ***********************************
                   *RESET
                   ***********************************
                           ORG     $FFFE
  FFFE 80 00       RESET   FCB     $80,$00
                   ***********************************

                           END     $8000

  Symbol Table 

  CASOOK             840A
  CUARENTA           3176
  DOCE_L             309B
  CIENTOS_L          3121
  MENSAJE_E_ROMANO   3000
  CUATROCIENTOS      3159
  TRES               318F
  NUM_3_CENTENA      8136
  Y_L                30D8
  NUM_2_DECENA       81B8
  Symbol Table     E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      18

  SESENTA_L          30F5
  FIN_DECENA         81AD
  SERIAL             8453
  CASO_CENTENA       8088
  NUEVE              31A4
  OCHOCIENTOS        3165
  SETECIENTOS        3161
  NUM_4_DECENA       81CA
  ERROR              80E8
  DIECI_L            308B
  NUM_4_CENTENA      813F
  QUINIENTOS         315C
  CUATRO_L           3068
  MENSAJE_E_ARABIGO  301E
  NUM_6_DECENA       81DC
  SIETE              319B
  A                  0001
  C                  0018
  D                  0017
  NUEVE_L            3085
  I                  0022
  NUM_2_UNIDAD       8234
  ONCE_L             3096
  L                  0019
  M                  0016
  O                  0023
  DIR_RESULTADO      0050
  FIN_UNIDAD         8229
  NUM_8_DECENA       81EE
  XB                 0020
  V                  0021
  VEINTISEIS_L       30CD
  ENTRADA_ROMANO     8286
  ESCRIBECHAR        841F
  CSCTL              105D
  NOVENTA_L          310D
  NUM_4_UNIDAD       8246
  NUM_5_CENTENA      8148
  DIEZ_L             3091
  CASOC1             8324
  CASOO_ARABIGO      803F
  DIECICIETE_L       30BF
  NUM_6_UNIDAD       8258
  DIR_TEXTUAL        0070
  D_ERROR            848E
  SCCR1              102C
  CICLATE1           800C
  SCCR2              102D
  CASOD1             82E4
  CASO_MILLAR        8075
  TRECE_L            30A0
  CUENTA             8280
  I_ERROR            84B8
  CATORCE_L          30A6
  NUM_8_UNIDAD       826A
  SEISCIENTOS        315E
  BERROR             0002
  BAUD               102B
  CASOV1             83CD
  CIEN               3150
  NUM_6_CENTENA      8151
  CINCO              3196
  CICLO              8010
  DOSCIENTOS         3152
  CICLO1             8442
  Symbol Table     E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      19

  NOVECIENTOS        316A
  FIN_CENTENA        8122
  SETECIENTOS_L      3134
  X_ERROR            84A8
  CINCUENTA          3179
  UNO_L              305A
  TRES_L             3063
  DECENA             0052
  LIMPIEZA_SALTO     8413
  SALTOINTERMEDIO1   82F6
  ERROR_ESCRITURA    846F
  SALTOINTERMEDIO2   83DF
  DOS                318C
  ERROR_CANTIDAD     8096
  CASOOK_ARABIGO     8047
  NUM_7_CENTENA      815A
  ENTRADA            8016
  DOS_L              305F
  CASOX1             83A2
  OPT2               1038
  MENSAJE_E_RANGO    303D
  CICLATE            827C
  C_ERROR            8498
  NUM_1_DECENA       81AF
  NUMCARAC           0010
  NUM_8_CENTENA      8163
  UNIDAD             0053
  ERROR_1            8336
  ERROR_2            839C
  NUM_3_DECENA       81C1
  RESET              FFFE
  TREINTA            3172
  TRESCIENTOS        3155
  INICIALIZAR        80A3
  ESCRIBE_CENTENA    80F9
  DIECISEIS_L        30B5
  CINCUENTA_L        30EB
  NUM_5_DECENA       81D3
  ERROR_CICLO        847B
  ERROR_CICLO1       80EC
  LIM                84F0
  ORDEN              0000
  LIMAS              80CA
  TREINTA_L          30DA
  BANDERA_ERROR      0011
  NUM_9_CENTENA      816C
  OCHO_L             3080
  CENTENA            0051
  HPRIO              103C
  NUM_1_UNIDAD       822B
  LIMONES            80B9
  NUM_7_DECENA       81E5
  SALTOINTERMEDIO1_ERROR 841C
  ESCRIBE_DECENA     8184
  CIEN_L             3115
  OCHO               319F
  CASO_DECENA        808C
  SCSR               102E
  NUM_3_UNIDAD       823D
  DIEZ               316D
  VEINTI_L           30C6
  DIR_INPUT          0030
  FIN                843E
  NUM_9_DECENA       81F7
  OCHENTA_L          3105
  Symbol Table     E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      20

  L_ERROR            849E
  SIETE_L            307A
  CASO_ESCRIBE_MILLAR 807B
  TRADUCCION_A_ROMANO 8053
  BANDERA_TRADUCCION 0012
  NUM_5_UNIDAD       824F
  CASOL1             8358
  VALIDACION_ARABIGO 80D8
  SEIS               3198
  NOVENTA            3187
  SETENTA            317E
  CUATRO             3193
  NOVECIENTOS_L      3140
  V_ERROR            84AE
  UNO                318A
  OCHENTA            3182
  LIM2               8501
  DDRD               1009
  NUM_7_UNIDAD       8261
  ERROR1             8291
  ESCRIBE_UNIDAD     8200
  CASOM1             82B6
  QUINIENTOS_L       3129
  NUM_1_CENTENA      8124
  CASO_UNIDAD        8090
  SCDR               102F
  VEINTE             316F
  NUM_9_UNIDAD       8273
  SETENTA_L          30FD
  CASOC              8301
  CASOD              82C8
  CASOI              83EE
  MIL_L              314C
  QUINCE_L           30AE
  CASOL              833C
  CASOM              8297
  CICLO_ESCRITURA    8175
  CASOO              8402
  SEIS_L             3075
  CUARENTA_L         30E2
  CASOV              83B4
  SESENTA            317B
  FIN_ERROR          84BE
  CASOX              8379
  NUM_2_CENTENA      812D
  CIENTO_L           311A
  SPCR               1028
  ERROR_ARABIGO      80E3
  ENTRADA_INTERMEDIO_ROMANO 8038
  ERROR_SALTO        8488
  MIL                0050
  INICIO             8000
  CINCO_L            306F
  LIMPIEZA           84BF
  SALTOINTERMEDIO    836A
  BERROR2            0003
  FIN_VALIDACION_ARABIGO 80E2
