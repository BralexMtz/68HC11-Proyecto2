  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       1

                                           * PROYECTO 2 TRADUCCION ENTRE ROMANO
.                  Y ARABIGO
                                           *------------------------------------
.                  -----------
                                           *  CONSTANTES DEL PROGRAMA
                                           *------------------------------------
.                  -----------
                   SCDR   EQU   $102F
                   SCCR2  EQU   $102D
                   SCSR   EQU   $102E
                   SCCR1  EQU   $102C
                   BAUD   EQU   $102B
                   HPRIO  EQU   $103C
                   SPCR   EQU   $1028
                   CSCTL  EQU   $105D
                   OPT2   EQU   $1038
                   DDRD   EQU   $1009

                                           *------------------------------------
.                  -----------
                                           *  DIRECCIONES A UTILIZAR
                                           *------------------------------------
.                  -----------
                   DIRESULTADO                     EQU $0050
                   DIRINPUT                        EQU $0130
                   DIRTEXTUAL                              EQU $0071
                                           *------------------------------------
.                  -----------
                                           *  DECLARACION DE VARIABLES PARA
.                  NUMEROS ROMANOS
                                           *------------------------------------
.                  -----------
                   CARACTER_RECIBIDO               EQU $0000
                   M                                       EQU $0006   *VARIABLE
.                  DE LETRAS M
                   D                                       EQU $0007   *VARIABLE
.                  DE LETRA D
                   C                                       EQU $0008   *VARIABLE
.                  DE LETRA C
                   L                                       EQU $0009   *VARIABLE
.                  DE LETRA L
                   X_                                      EQU $0010   *VARIABLE
.                  DE LETRA X
                   V                                       EQU $0011   *VARIABLE
.                  DE LETRA U
                   I                                       EQU $0012   *VARIABLE
.                  DE LETRA I
                   O                                       EQU $0013   *VARIABLE
.                  DEL OK

                   BAND_ERROR                              EQU $0002   *
.                  VARIABLE DE ERROR
                   UNIDAD                                  EQU $0053   *
.                  DIRECCION PARA ESCRIBIR UNIDADES
                   DECENA                                  EQU $0052   *
.                  DIRECCION PARA ESCRIBIR DECENAS
                   CENTENA                                 EQU $0051   *
.                  DIRECCION PARA ESCRIBIR CENTENA
                   MIL                                     EQU $0050   *
.                  DIRECCION PARA ESCRIBIR UNIDADES DE MILLAR

                                           *------------------------------------
.                  -----------
                                           *  DECLARACION DE VARIABLES PARA
.                  NUMEROS ARABIGOS
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       2

                                           *------------------------------------
.                  -----------
                   BANDTRADUC                              EQU $0024
                   CHARNUMBER                              EQU $0014
                   BANDERA_ERROR                   EQU $0015      * VARIABLE DE
.                  ERROR PARA ARABIGOS
                   CONTADOR                                EQU $0028
                   CONTADOR_EXT                    EQU $0016


                                   ORG $8000
                   INICIO
  8000 8E 00 FF                    LDS #$00FF
  8003 BD 84 75                    JSR SERIAL              * SUBRUTINA PARA
.                  CONFIG EL PUERTO SERIAL
  8006 BD 84 F0                    JSR LIMPIEZA
  8009 BD 80 AA                    JSR INICIALIZAR
                   CYCLEIN
  800C 86 3F                       LDAA    #'?
  800E 97 00                       STAA    CARACTER_RECIBIDO
                   CICLO
  8010 96 00                       LDAA    CARACTER_RECIBIDO
  8012 81 3F                       CMPA    #'?
  8014 27 FA                       BEQ     CICLO

                   ENTRADARABIGOS
  8016 81 3D               CMPA #61            *61 es ascii de =
  8018 27 39                   BEQ ROMANOTRADUCT
  801A 81 4F               CMPA #'O                        *INICIO DE OK
  801C 27 21                       BEQ CASOO_ARABIGO
  801E 81 4B               CMPA #'K
  8020 27 25               BEQ CASOOK_ARABIGO  *RECIBE OK EN ARABIGOS
  8022 BD 80 EB                    JSR ISARABIGO           *CARGA UN 1 EN B SI
.                  ES ARABIGO
  8025 C1 01                       CMPB #1
  8027 26 0F                       BNE SALTOINROMANO
  8029 D6 14               LDAB    CHARNUMBER
  802B C1 03               CMPB    #3
  802D 22 6E               BHI     ERNUMRANGE              *VALIDAMOS UN NUMERO
.                  MAYOR DE 4 DIGITOS
  802F 5C                  INCB
  8030 D7 14               STAB CHARNUMBER                     *INCREMENTAMOS EL
.                  CONTADOR DE CARACTERES
  8032 A7 00               STAA $00,X
  8034 08                  INX
  8035 7E 80 0C            JMP CYCLEIN
                   SALTOINROMANO
  8038 C6 02                       LDAB #2
  803A D7 24                       STAB BANDTRADUC
  803C 7E 82 99                    JMP ENTRADA_ROMANO

                   CASOO_ARABIGO
  803F D6 13                       LDAB O
  8041 5C                          INCB
  8042 D7 13                       STAB O
  8044 7E 80 0C                    JMP CYCLEIN

                   CASOOK_ARABIGO
  8047 D6 13                       LDAB O
  8049 C1 00                       CMPB #0
  804B 27 50                       BEQ ERNUMRANGE
  804D BD 80 AA                    JSR INICIALIZAR
                                   *JSR LIMPIEZA
  8050 7E 80 0C            JMP CYCLEIN

  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       3

                   ROMANOTRADUCT
  8053 C6 01                       LDAB #1
  8055 D7 24                       STAB BANDTRADUC
  8057 96 15                       LDAA BANDERA_ERROR
  8059 81 01                       CMPA #1
  805B 27 AF                       BEQ CYCLEIN
  805D 18 CE 00 50                 LDY #DIRESULTADO        *CARGAMOS LA
.                  DIRECCION DE ESCRITURA
  8061 CE 01 30                    LDX #DIRINPUT           *CARGAMOS LA
.                  DIRECCION DE LA ENTRADA
  8064 96 14                       LDAA CHARNUMBER
  8066 81 01                       CMPA #1                                 *
.                  FOLTRAMOS EL NUMERO DE CARACTERES PARA LA TRADUCCION
  8068 27 2A                       BEQ ESUNID
  806A 81 02                       CMPA #2
  806C 27 22                       BEQ ESDEC
  806E 81 03                       CMPA #3
  8070 27 1A                       BEQ ESCENTE
  8072 81 04                       CMPA #4
  8074 27 03                       BEQ ESMIL
  8076 7E 80 0C                    JMP CYCLEIN           *POR SI NO SE VALIDA
.                  BIEN


                   ESMIL
  8079 E6 00                       LDAB $00,X      *TOMAR EL PRIMER NUM CHAR Y
.                  PONERLO EN B
  807B C1 31               CMPB #$31       *
  807D 25 0D                       BLO ESCENTE * VALIDA QUE SEA MAYOR A 0 EN
.                  ASCII
                   CYCLEESMIL
  807F 86 4D                       LDAA #'M                * CARGA UNA M EN EL
.                  ACUMULADOR A
  8081 18 A7 00                    STAA $00,Y      * ESCRIBE EN LA DIR DE Y
  8084 18 08                       INY                     * INCREMENTAMOS Y
.                  PARA CONTINUAR ESCRIBIENDO
  8086 5A                          DECB            * DECREMENTAMOS B
  8087 C1 30                       CMPB #$30       * ASCII DE 0
  8089 26 F4                       BNE CYCLEESMIL       * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  808B 08                          INX             * PASAMOS AL SIGUIENTE NUM
.                  DIGITO
                   ESCENTE
  808C BD 81 0C                    JSR ESCRIBE_CENTENA
  808F 08                          INX
                   ESDEC
                           * GUARDA EN A, EL VALOR DE X
  8090 BD 81 97                    JSR ESCRIBE_DECENA
  8093 08                          INX
                   ESUNID
  8094 BD 82 13                    JSR ESCRIBE_UNIDAD
  8097 7E 85 5F                    JMP MUCHO_TEXTO
  809A 7E 80 0C                    JMP CYCLEIN

                   ERNUMRANGE
  809D CE 00 50                    LDX #DIRESULTADO     * DIRECCION DEL MENSAJE
  80A0 18 CE 30 00                 LDY #MENSAJE_E_RANGO
  80A4 BD 80 FB                    JSR ERROR
  80A7 7E 80 0C                    JMP CYCLEIN


                   INICIALIZAR
  80AA CE 01 30                    LDX #DIRINPUT
  80AD 18 CE 00 50                 LDY #DIRESULTADO                        *ES
.                  50
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       4

  80B1 7F 00 24                    CLR BANDTRADUC
  80B4 7F 00 13                    CLR O
  80B7 7F 32 04                    CLR UNO
  80BA 7F 00 14                    CLR CHARNUMBER
  80BD 7F 00 15                    CLR BANDERA_ERROR
                   CICLOLIMPIEZA1
  80C0 C6 FF                       LDAB #$ff
  80C2 18 E7 00                    STAB $00,Y
  80C5 18 08                       INY
  80C7 18 8C 00 F0                 CPY #$00F0
  80CB 26 F3                       BNE CICLOLIMPIEZA1
  80CD 18 CE 01 30                 LDY #DIRINPUT  ** LA 130
                   CICLOLIMPIEZA2
  80D1 C6 FF                       LDAB #$FF
  80D3 18 E7 00                    STAB $00,Y
  80D6 18 08                       INY
  80D8 18 8C 01 50                 CPY #$0150
  80DC 26 F3                       BNE CICLOLIMPIEZA2
  80DE 7F 00 53                    CLR UNIDAD
  80E1 7F 00 52                    CLR DECENA
  80E4 7F 00 51                    CLR CENTENA
  80E7 7F 00 50                    CLR MIL
  80EA 39                          RTS

                   ISARABIGO
  80EB 81 30                       CMPA #$30               *Valor 0
  80ED 25 07                       BLO ERROR_ARABIGO
  80EF 81 3A                       CMPA #$3A               * Valor 9
  80F1 22 03                       BHI ERROR_ARABIGO
  80F3 C6 01                       LDAB #1
                   FIN_ISARABIGO
  80F5 39                          RTS

                   ERROR_ARABIGO
  80F6 C6 04                       LDAB #4
  80F8 7E 80 F5                    JMP FIN_ISARABIGO



                   ERROR
  80FB C6 01                       LDAB #1
  80FD D7 15                       STAB BANDERA_ERROR
                   ERROR_CICLO1
  80FF 18 E6 00                    LDAB $00,Y              *TOMA CARACTER DEL
.                  FCC
  8102 E7 00                       STAB $00,X      *ESCRIBE EL CHAR EN LA DIR DE
.                  X
  8104 08                          INX
  8105 18 08                       INY                     * INCREMENTAMOS X Y Y
  8107 C1 2E                       CMPB #46        * ASCII DE PUNTO
  8109 26 F4                       BNE ERROR_CICLO1       * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  810B 39                          RTS
                   ESCRIBE_CENTENA
  810C 3C                          PSHX        * RESPALDA/COPIA EL VALOR DE X
  810D A6 00                       LDAA $00,X  * GUARDA EN A, EL CARACTER DE X
  810F 80 30                       SUBA #$30       * RESTA 30 PARA VER QUE
.                  NUMERO ES
  8111 81 01                       CMPA #1
  8113 27 22                       BEQ  NUM_1_CENTENA
  8115 81 02                       CMPA #2
  8117 27 27                       BEQ  NUM_2_CENTENA
  8119 81 03                       CMPA #3
  811B 27 2C                       BEQ  NUM_3_CENTENA
  811D 81 04                       CMPA #4
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       5

  811F 27 31                       BEQ  NUM_4_CENTENA
  8121 81 05                       CMPA #5
  8123 27 36                       BEQ  NUM_5_CENTENA
  8125 81 06                       CMPA #6
  8127 27 3B                       BEQ  NUM_6_CENTENA
  8129 81 07                       CMPA #7
  812B 27 40                       BEQ  NUM_7_CENTENA
  812D 81 08                       CMPA #8
  812F 27 45                       BEQ  NUM_8_CENTENA
  8131 81 09                       CMPA #9
  8133 27 4A                       BEQ  NUM_9_CENTENA
                   FIN_CENTENA
  8135 38                          PULX
  8136 39                  RTS
                   NUM_1_CENTENA
  8137 CE 31 CA                    LDX #CIEN     * DIRECCION DE MEMORIA DE 100
                                   *LDY #CIENWORD
  813A BD 81 88                    JSR CICLO_ESCRITURA
  813D 7E 81 35                    JMP FIN_CENTENA
                   NUM_2_CENTENA
  8140 CE 31 CC                    LDX #DOSCIENTOS     * DIRECCION DE MEMORIA DE
.                  200
                                   *LDY #DOSWORD
                                   *LDY #MILWORD
  8143 BD 81 88                    JSR CICLO_ESCRITURA
  8146 7E 81 35                    JMP FIN_CENTENA
                   NUM_3_CENTENA
  8149 CE 31 CF                    LDX #TRESCIENTOS     * DIRECCION DE MEMORIA
.                  DE 300
  814C BD 81 88                    JSR CICLO_ESCRITURA
  814F 7E 81 35                    JMP FIN_CENTENA
                   NUM_4_CENTENA
  8152 CE 31 D3                    LDX #CUATROCIENTOS     * DIRECCION DE MEMORIA
.                  DE 400
  8155 BD 81 88                    JSR CICLO_ESCRITURA
  8158 7E 81 35                    JMP FIN_CENTENA
                   NUM_5_CENTENA
  815B CE 31 D6                    LDX #QUINIENTOS     * DIRECCION DE MEMORIA DE
.                  500
  815E BD 81 88                    JSR CICLO_ESCRITURA
  8161 7E 81 35                    JMP FIN_CENTENA
                   NUM_6_CENTENA
  8164 CE 31 D8                    LDX #SEISCIENTOS     * DIRECCION DE MEMORIA
.                  DE 600
  8167 BD 81 88                    JSR CICLO_ESCRITURA
  816A 7E 81 35                    JMP FIN_CENTENA
                   NUM_7_CENTENA
  816D CE 31 DB                    LDX #SETECIENTOS     * DIRECCION DE MEMORIA
.                  DE 700
  8170 BD 81 88                    JSR CICLO_ESCRITURA
  8173 7E 81 35                    JMP FIN_CENTENA
                   NUM_8_CENTENA
  8176 CE 31 DF                    LDX #OCHOCIENTOS     * DIRECCION DE MEMORIA
.                  DE 800
  8179 BD 81 88                    JSR CICLO_ESCRITURA
  817C 7E 81 35                    JMP FIN_CENTENA
                   NUM_9_CENTENA
  817F CE 31 E4                    LDX #NOVECIENTOS    * DIRECCION DE MEMORIA DE
.                  900
  8182 BD 81 88                    JSR CICLO_ESCRITURA
  8185 7E 81 35                    JMP FIN_CENTENA

                   CICLO_ESCRITURA
  8188 E6 00               LDAB $00,X              * TOMA CARACTER DEL FCC
  818A 18 E7 00                    STAB $00,Y      * ESCRIBE EL CHAR EN LA DIR
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       6

.                  DE Y
  818D 08                          INX
  818E 18 08                       INY                     * INCREMENTAMOS X Y Y
  8190 C1 20                       CMPB #$20        * ASCII DE ESPACIO
  8192 26 F4                       BNE CICLO_ESCRITURA   * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  8194 18 09                       DEY
  8196 39                          RTS

                   ESCRIBE_DECENA
  8197 3C                          PSHX
  8198 A6 00                       LDAA $00,X
  819A 80 30                       SUBA #$30
  819C 81 01                       CMPA #1
  819E 27 22                       BEQ  NUM_1_DECENA
  81A0 81 02                       CMPA #2
  81A2 27 27                       BEQ  NUM_2_DECENA
  81A4 81 03                       CMPA #3
  81A6 27 2C                       BEQ  NUM_3_DECENA
  81A8 81 04                       CMPA #4
  81AA 27 31                       BEQ  NUM_4_DECENA
  81AC 81 05                       CMPA #5
  81AE 27 36                       BEQ  NUM_5_DECENA
  81B0 81 06                       CMPA #6
  81B2 27 3B                       BEQ  NUM_6_DECENA
  81B4 81 07                       CMPA #7
  81B6 27 40                       BEQ  NUM_7_DECENA
  81B8 81 08                       CMPA #8
  81BA 27 45                       BEQ  NUM_8_DECENA
  81BC 81 09                       CMPA #9
  81BE 27 4A                       BEQ  NUM_9_DECENA
                   FIN_DECENA
  81C0 38                          PULX
  81C1 39                  RTS

                   NUM_1_DECENA
  81C2 CE 31 E7                    LDX #DIEZ     * DIRECCION DE MEMORIA DE 10
  81C5 BD 81 88                    JSR CICLO_ESCRITURA
  81C8 7E 81 C0                    JMP FIN_DECENA
                   NUM_2_DECENA
  81CB CE 31 E9                    LDX #VEINTE     * DIRECCION DE MEMORIA DE 20
  81CE BD 81 88                    JSR CICLO_ESCRITURA
  81D1 7E 81 C0                    JMP FIN_DECENA
                   NUM_3_DECENA
  81D4 CE 31 EC                    LDX #TREINTA     * DIRECCION DE MEMORIA DE 30
  81D7 BD 81 88                    JSR CICLO_ESCRITURA
  81DA 7E 81 C0                    JMP FIN_DECENA
                   NUM_4_DECENA
  81DD CE 31 F0                    LDX #CUARENTA     * DIRECCION DE MEMORIA DE
.                  40
  81E0 BD 81 88                    JSR CICLO_ESCRITURA
  81E3 7E 81 C0                    JMP FIN_DECENA
                   NUM_5_DECENA
  81E6 CE 31 F3                    LDX #CINCUENTA     * DIRECCION DE MEMORIA DE
.                  50
  81E9 BD 81 88                    JSR CICLO_ESCRITURA
  81EC 7E 81 C0                    JMP FIN_DECENA
                   NUM_6_DECENA
  81EF CE 31 F5                    LDX #SESENTA     * DIRECCION DE MEMORIA DE 60
  81F2 BD 81 88                    JSR CICLO_ESCRITURA
  81F5 7E 81 C0                    JMP FIN_DECENA
                   NUM_7_DECENA
  81F8 CE 31 F8                    LDX #SETENTA     * DIRECCION DE MEMORIA DE 70
  81FB BD 81 88                    JSR CICLO_ESCRITURA
  81FE 7E 81 C0                    JMP FIN_DECENA
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       7

                   NUM_8_DECENA
  8201 CE 31 FC                    LDX #OCHENTA     * DIRECCION DE MEMORIA DE 80
  8204 BD 81 88                    JSR CICLO_ESCRITURA
  8207 7E 81 C0                    JMP FIN_DECENA
                   NUM_9_DECENA
  820A CE 32 01                    LDX #NOVENTA     * DIRECCION DE MEMORIA DE 90
  820D BD 81 88                    JSR CICLO_ESCRITURA
  8210 7E 81 C0                    JMP FIN_DECENA

                   ESCRIBE_UNIDAD
  8213 3C                          PSHX
  8214 A6 00                       LDAA $00,X
  8216 80 30                       SUBA #$30
  8218 81 01                       CMPA #1
  821A 27 22                       BEQ  NUM_1_UNIDAD
  821C 81 02                       CMPA #2
  821E 27 27                       BEQ  NUM_2_UNIDAD
  8220 81 03                       CMPA #3
  8222 27 2C                       BEQ  NUM_3_UNIDAD
  8224 81 04                       CMPA #4
  8226 27 31                       BEQ  NUM_4_UNIDAD
  8228 81 05                       CMPA #5
  822A 27 36                       BEQ  NUM_5_UNIDAD
  822C 81 06                       CMPA #6
  822E 27 3B                       BEQ  NUM_6_UNIDAD
  8230 81 07                       CMPA #7
  8232 27 40                       BEQ  NUM_7_UNIDAD
  8234 81 08                       CMPA #8
  8236 27 45                       BEQ  NUM_8_UNIDAD
  8238 81 09                       CMPA #9
  823A 27 4A                       BEQ  NUM_9_UNIDAD
                   FIN_UNIDAD
  823C 38                          PULX
  823D 39                  RTS

                   NUM_1_UNIDAD
  823E CE 32 04                    LDX #UNO     * DIRECCION DE MEMORIA DE 1
  8241 BD 81 88                    JSR CICLO_ESCRITURA
  8244 7E 82 3C                    JMP FIN_UNIDAD
                   NUM_2_UNIDAD
  8247 CE 32 06                    LDX #DOS     * DIRECCION DE MEMORIA DE 2
  824A BD 81 88                    JSR CICLO_ESCRITURA
  824D 7E 82 3C                    JMP FIN_UNIDAD
                   NUM_3_UNIDAD
  8250 CE 32 09                    LDX #TRES     * DIRECCION DE MEMORIA DE 3
  8253 BD 81 88                    JSR CICLO_ESCRITURA
  8256 7E 82 3C                    JMP FIN_UNIDAD
                   NUM_4_UNIDAD
  8259 CE 32 0D                    LDX #CUATRO     * DIRECCION DE MEMORIA DE 4
  825C BD 81 88                    JSR CICLO_ESCRITURA
  825F 7E 82 3C                    JMP FIN_UNIDAD
                   NUM_5_UNIDAD
  8262 CE 32 10                    LDX #CINCO     * DIRECCION DE MEMORIA DE 5
  8265 BD 81 88                    JSR CICLO_ESCRITURA
  8268 7E 82 3C                    JMP FIN_UNIDAD
                   NUM_6_UNIDAD
  826B CE 32 12                    LDX #SEIS     * DIRECCION DE MEMORIA DE 6
  826E BD 81 88                    JSR CICLO_ESCRITURA
  8271 7E 82 3C                    JMP FIN_UNIDAD
                   NUM_7_UNIDAD
  8274 CE 32 15                    LDX #SIETE     * DIRECCION DE MEMORIA DE 7
  8277 BD 81 88                    JSR CICLO_ESCRITURA
  827A 7E 82 3C                    JMP FIN_UNIDAD
                   NUM_8_UNIDAD
  827D CE 32 19                    LDX #OCHO     * DIRECCION DE MEMORIA DE 8
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       8

  8280 BD 81 88                    JSR CICLO_ESCRITURA
  8283 7E 82 3C                    JMP FIN_UNIDAD
                   NUM_9_UNIDAD
  8286 CE 32 1E                    LDX #NUEVE     * DIRECCION DE MEMORIA DE 9
  8289 BD 81 88                    JSR CICLO_ESCRITURA
  828C 7E 82 3C                    JMP FIN_UNIDAD


                   CYCLEINPUT
  828F 86 3F                       LDAA    #'?
  8291 97 00                       STAA    CARACTER_RECIBIDO
                   CUENTA
  8293 96 00               LDAA    CARACTER_RECIBIDO
  8295 81 3F               CMPA    #'?
  8297 27 FA               BEQ     CUENTA

                   ENTRADA_ROMANO
  8299 D6 14                       LDAB CHARNUMBER
  829B C1 00                       CMPB #0
  829D 26 0B                       BNE ERROR_ARABIGO_SALTO
  829F 81 4D               CMPA #'M
  82A1 27 13               BEQ CASOM
  82A3 81 44               CMPA #'D
  82A5 27 40               BEQ CASOD
  82A7 7E 83 15            JMP SALTOINTERMEDIO1
                   ERROR_ARABIGO_SALTO
  82AA BD 84 91                    JSR ERROR_ESCRITURA_ARABIGO
  82AD 7E 84 60                    JMP FIN
                   ERROR_ROMANO
  82B0 BD 84 A0                    JSR ERROR_ESCRITURA
  82B3 7E 84 60                    JMP FIN

                   CASOM
  82B6 D6 08                       LDAB C                  *Verifica que le haya
.                  llegado una C ANTES para el caso de CM
  82B8 C1 00               CMPB #0
  82BA 26 19               BNE CASOMEXE


  82BC D6 06                       LDAB M
  82BE C1 08                       CMPB #8         *Verifica que no sean ms de 9
.                  M's
  82C0 22 EE                       BHI ERROR_ROMANO

  82C2 BD 84 BF                    JSR D_ERROR

  82C5 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $30 lo que le mande el usuario
  82C7 08                          INX
  82C8 D6 06               LDAB M
  82CA 5C                  INCB
  82CB D7 06               STAB M
  82CD D6 50               LDAB MIL
  82CF 5C                  INCB
  82D0 D7 50               STAB MIL

  82D2 7E 82 8F            JMP CYCLEINPUT

                   *CASO DONDE LLEGUE CM
                   CASOMEXE
  82D5 C1 01                       CMPB #1         *Compara si hay una segunda C
  82D7 22 D7                       BHI ERROR_ROMANO
  82D9 CB 05                       ADDB #5
  82DB D7 08                       STAB C          *Carga en C el valor de 5
  82DD C6 09                       LDAB #9
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE       9

  82DF D7 51               STAB CENTENA    *Carga en las centenas el valor de 9
  82E1 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  82E3 08                          INX             *Aumenta la X en 1
  82E4 7E 82 8F            JMP CYCLEINPUT     *Regresa a esperar

                   CASOD

  82E7 BD 84 CF                    JSR L_ERROR
  82EA D6 07                       LDAB D
  82EC 5C                  INCB
  82ED D7 07               STAB D
  82EF C1 02                       CMPB #2
  82F1 27 BD                       BEQ ERROR_ROMANO
.                  *VALIDA QUE NO LLEGUEN 2 O MS D's
  82F3 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  82F5 08                          INX
  82F6 D6 08               LDAB C
  82F8 C1 00               CMPB #0
  82FA 26 07               BNE CASODEXE
  82FC C6 05               LDAB #5
  82FE D7 51               STAB CENTENA
  8300 7E 82 8F            JMP CYCLEINPUT
                   CASODEXE
                   ***** CASO CD
  8303 C1 01                       CMPB #1
  8305 22 4E                       BHI ERRORROM     *Compara si hay ms de una C
  8307 CB 05                       ADDB #5
  8309 D7 08                       STAB C          *Carga en C el valor de 5,
.                  porque? ####
  830B C6 04                       LDAB #4
  830D D7 51               STAB CENTENA    *Carga en las centenas el valor de 4
  830F A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8311 08                          INX             *Aumenta la X en 1
  8312 7E 82 8F            JMP CYCLEINPUT     *Regresa a esperar


                   SALTOINTERMEDIO1
  8315 81 43                       CMPA #'C
  8317 27 07               BEQ CASOC
  8319 81 4C                       CMPA #'L
  831B 27 3E               BEQ CASOL
  831D 7E 83 89                    JMP SALTOINTERMEDIO

                   *C ES UNA BANDERA A FUTURO PARA ERRORES
                   CASOC
  8320 D6 10                       LDAB X_
.                  *VERIFICA QUE LLEGUE UN XC
  8322 C1 00                       CMPB #0
  8324 26 1D                       BNE CASOCEXE
  8326 D6 08                       LDAB C
  8328 C1 04                       CMPB #4
  832A 22 29                       BHI ERRORROM

  832C BD 84 CF                    JSR L_ERROR

  832F D6 08                       LDAB C
  8331 5C                  INCB
  8332 D7 08               STAB C
  8334 C1 04                       CMPB #4
  8336 27 1D                       BEQ ERRORROM            *VALIDA QUE NO
.                  LLEGUEN 4 O MS C's
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      10

  8338 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  833A 08                          INX
  833B D6 51                       LDAB CENTENA
  833D 5C                  INCB
  833E D7 51               STAB CENTENA
  8340 7E 82 8F            JMP CYCLEINPUT

                   *CASO POR SI LLEGA UN XC
                   CASOCEXE
  8343 C1 01                       CMPB #1
  8345 22 0E                       BHI ERRORROM  * SI ES HAY MS DE UNA C ES
.                  ERROR
  8347 CB 05                       ADDB #5          *PARA FUTURO ERROR XCX
  8349 D7 10                       STAB X_
  834B C6 09                       LDAB #9
  834D D7 52                       STAB DECENA
  834F A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8351 08                          INX
  8352 7E 82 8F                    JMP CYCLEINPUT

                   ERRORROM
  8355 BD 84 A0                    JSR ERROR_ESCRITURA
  8358 7E 84 60                    JMP FIN

                   CASOL
  835B D6 10                       LDAB X_
  835D C1 00                       CMPB #0
  835F 26 16                       BNE CASOLEXE
  8361 BD 84 DF                    JSR V_ERROR
  8364 D6 09                       LDAB L
  8366 5C                  INCB
  8367 D7 09               STAB L
  8369 C1 02                       CMPB #2
  836B 27 E8                       BEQ ERRORROM            *VALIDA QUE NO
.                  LLEGUEN 2 O MS L's
  836D A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  836F 08                          INX
  8370 C6 05                       LDAB #5
  8372 D7 52               STAB DECENA

  8374 7E 82 8F            JMP CYCLEINPUT

                   *PARA CUANDO LLEGA XL
                   CASOLEXE
  8377 C1 01                       CMPB #1
  8379 22 DA                       BHI ERRORROM     *Compara si hay ms de una X
  837B CB 05                       ADDB #5
  837D D7 10                       STAB X_          *Suma en X el valor de 5,
.                  porque? ####
  837F C6 04                       LDAB #4
  8381 D7 52               STAB DECENA     *Carga en las centenas el valor de 4
  8383 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  8385 08                          INX             *Siguiente Direccion de
.                  escritura
  8386 7E 82 8F            JMP CYCLEINPUT     *Regresa a esperar

                                             **********SALTO INTERMEDIO
                   SALTOINTERMEDIO
  8389 81 58                       CMPA #'X
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      11

  838B 27 0B               BEQ CASOX
  838D 81 56               CMPA #'V
  838F 27 42               BEQ CASOV
  8391 81 49               CMPA #'I
  8393 27 78               BEQ CASOI

  8395 7E 83 FE                    JMP SALTOINTERMEDIO2

                   CASOX
  8398 BD 84 DF                    JSR V_ERROR
  839B D6 12                       LDAB I
  839D C1 00                       CMPB #0                 *VALIDA EL CASO IX
  839F 26 20                       BNE CASOXEXE
  83A1 D6 10                       LDAB X_
  83A3 5C                  INCB
  83A4 D7 10               STAB X_
  83A6 C1 03                       CMPB #3
  83A8 22 AB                       BHI ERRORROM
  83AA D6 11                       LDAB V
  83AC C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  V's ANTES DE LA X
  83AE 26 A5                       BNE ERRORROM


  83B0 A7 00                       STAA $00,X                      *Escribir a
.                  partir de la memoria $70 lo que le mande el usuario
  83B2 08                          INX
  83B3 D6 52                       LDAB DECENA
  83B5 5C                          INCB
  83B6 D7 52                       STAB DECENA
  83B8 7E 82 8F            JMP CYCLEINPUT

                   OTRO_ERRORROM
  83BB BD 84 A0                    JSR ERROR_ESCRITURA
  83BE 7E 84 60                    JMP FIN
                   *CUANDO LLEGUE UN IX
                   CASOXEXE
  83C1 C1 01                       CMPB #1
  83C3 22 90                       BHI ERRORROM
  83C5 CB 06                       ADDB #6
  83C7 D7 12                       STAB I
  83C9 C6 09                       LDAB #9
  83CB D7 53                       STAB UNIDAD
  83CD A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  83CF 08                          INX
  83D0 7E 82 8F                    JMP CYCLEINPUT

                   CASOV
  83D3 D6 12                       LDAB I
  83D5 C1 00                       CMPB #0
  83D7 26 13                       BNE CASOVEXE
  83D9 D6 11                       LDAB V
  83DB 5C                          INCB
  83DC D7 11                       STAB V
  83DE C1 02                       CMPB #2
  83E0 27 D9                       BEQ OTRO_ERRORROM               *VALIDA QUE
.                  NO LLEGUEN 2 O MS V's       _2
  83E2 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  83E4 08                          INX
  83E5 C6 05                       LDAB #5
  83E7 D7 53                       STAB UNIDAD
  83E9 7E 82 8F                    JMP CYCLEINPUT
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      12


                   *CUANDO LLEGUE UN IV
                   CASOVEXE
  83EC C1 01                       CMPB #1
  83EE 22 CB                       BHI OTRO_ERRORROM
  83F0 CB 06                       ADDB #6
  83F2 D7 12                       STAB I
  83F4 C6 04                       LDAB #4
  83F6 D7 53                       STAB UNIDAD
  83F8 A7 00                       STAA $00,X      *Escribir a partir de la
.                  memoria $70 lo que le mande el usuario
  83FA 08                          INX
  83FB 7E 82 8F                    JMP CYCLEINPUT

                   SALTOINTERMEDIO2
  83FE 81 4F               CMPA #'O  *CASO EN QUE RECIBA OK
  8400 27 1F               BEQ CASOO_ROMANO
  8402 81 4B               CMPA #'K
  8404 27 23               BEQ CASOOK_ROMANO
  8406 81 3D                       CMPA #61            *Valida que le llegue un
.                  = para saber que es fin de la cadena que mete el usuario
  8408 27 34                       BEQ ESCRIBECHAR
  840A 7E 84 3B                    JMP SALTOINTERMEDIO1_ERROR

                   CASOI

  840D D6 12                       LDAB I
  840F 5C                          INCB
  8410 D7 12                       STAB I
  8412 C1 03                       CMPB #3
  8414 22 A5                       BHI OTRO_ERRORROM
  8416 A7 00                       STAA $00,X
.                  *Escribir a partir de la memoria $70 lo que le mande el
.                  usuario
  8418 08                          INX
  8419 D6 53                       LDAB UNIDAD
  841B 5C                          INCB
  841C D7 53                       STAB UNIDAD
  841E 7E 82 8F                    JMP CYCLEINPUT

                   CASOO_ROMANO
  8421 D6 13                       LDAB O
  8423 5C                          INCB
  8424 D7 13                       STAB O
  8426 7E 84 60                    JMP FIN

                   CASOOK_ROMANO
  8429 D6 13                       LDAB O
  842B C1 00                       CMPB #0
  842D 26 03                       BNE LIMPIEZA_SALTO      * Si existe una O
  842F 7E 80 0C                    JMP CYCLEIN
                   LIMPIEZA_SALTO
  8432 BD 84 F0                    JSR LIMPIEZA
  8435 BD 80 AA                    JSR INICIALIZAR
  8438 7E 80 0C                    JMP CYCLEIN

                   SALTOINTERMEDIO1_ERROR
  843B 7E 82 B0                    JMP ERROR_ROMANO

                   ESCRIBECHAR
                                   *JMP FIN
  843E D6 02                       LDAB BAND_ERROR
  8440 C1 01                       CMPB #1
  8442 27 F7                       BEQ SALTOINTERMEDIO1_ERROR
  8444 C6 30                       LDAB #48  * Es el ascii de 0 en decimal
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      13

  8446 96 50                       LDAA MIL
  8448 1B                          ABA
  8449 97 50                       STAA MIL
  844B 96 51                       LDAA CENTENA
  844D 1B                          ABA
  844E 97 51                       STAA CENTENA
  8450 96 52                       LDAA DECENA
  8452 1B                          ABA
  8453 97 52                       STAA DECENA
  8455 96 53                       LDAA UNIDAD
  8457 1B                          ABA
  8458 97 53                       STAA UNIDAD
  845A 7E 85 5F                    JMP MUCHO_TEXTO
  845D 7E 84 60                    JMP FIN

                   FIN
  8460 86 3F                       LDAA    #'?
  8462 97 00                       STAA    CARACTER_RECIBIDO
                   CICLOFIN
  8464 96 00                       LDAA    CARACTER_RECIBIDO
  8466 81 3F                       CMPA    #'?

  8468 27 FA                       BEQ     CICLOFIN
  846A 81 4F                       CMPA #'O
  846C 27 B3                       BEQ CASOO_ROMANO
  846E 81 4B                       CMPA #'K
  8470 27 B7                       BEQ CASOOK_ROMANO
  8472 7E 84 60                    JMP FIN

                   *Configuracion del puerto serial
                   SERIAL
  8475 CC 30 2C            LDD   #$302C  * CONFIGURA PUERTO SERIAL
  8478 B7 10 2B            STAA  BAUD    * BAUD  9600  para cristal de 8MHz
  847B F7 10 2D            STAB  SCCR2   * HABILITA  RX Y TX PERO INTERRUPCN
.                  SOLO RX
  847E 86 00               LDAA  #$00
  8480 B7 10 2C            STAA  SCCR1   * 8 BITS

  8483 86 FE                   LDAA  #$FE    * CONFIG PUERTO D COMO SALIDAS
.                  (EXCEPTO PD0)
  8485 B7 10 09            STAA  DDRD    * SEA  ENABLE DEL DISPLAY  PD4  Y RS
.                  PD3


  8488 86 04               LDAA  #$04
  848A B7 10 3C            STAA  HPRIO

  848D 86 00                       LDAA  #$00
  848F 06                  TAP
  8490 39                  RTS
                   ERROR_ESCRITURA_ARABIGO
  8491 D6 02                       LDAB BAND_ERROR
  8493 5C                          INCB
  8494 D7 02                       STAB BAND_ERROR
  8496 CE 00 50                    LDX #DIRESULTADO     * DIRECCION DEL MENSAJE
  8499 18 CE 30 1B                 LDY #MENSAJE_E_ARABIGO     * ORG DE LOS FCC
  849D 7E 84 AC                    JMP ERROR_CICLO
                   ERROR_ESCRITURA
  84A0 D6 02                       LDAB BAND_ERROR
  84A2 5C                          INCB
  84A3 D7 02                       STAB BAND_ERROR
  84A5 CE 00 50                    LDX #DIRESULTADO     * DIRECCION DEL MENSAJE
  84A8 18 CE 30 3E                 LDY #MENSAJE_E_ROMANO     * ORG DE LOS FCC
                   ERROR_CICLO
  84AC 18 E6 00                    LDAB $00,Y
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      14

  84AF E7 00                       STAB $00,X
  84B1 08                          INX
  84B2 18 08                       INY
  84B4 C1 2E                       CMPB #46        * ASCII DE PUNTO
  84B6 26 F4                       BNE ERROR_CICLO
  84B8 39                          RTS


                   ERROR_SALTO
  84B9 BD 84 A0                    JSR ERROR_ESCRITURA
  84BC 7E 84 EF                    JMP FIN_ERROR

                   D_ERROR
  84BF D6 07                       LDAB D
  84C1 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  D's ANTES DE LA M
  84C3 26 F4                       BNE ERROR_SALTO

  84C5 81 4D                       CMPA #'M
  84C7 27 06                       BEQ L_ERROR             * VALIDAR QUE M SI
.                  PUEDE TENER UNA C ANTES
                   C_ERROR
  84C9 D6 08                       LDAB C
  84CB C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  D's ANTES DE LA M
  84CD 26 EA                       BNE ERROR_SALTO
                   L_ERROR
  84CF D6 09                       LDAB L
  84D1 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  L's ANTES DE LA M
  84D3 26 E4                       BNE ERROR_SALTO
  84D5 81 43                       CMPA #'C
  84D7 27 06                       BEQ V_ERROR             * VALIDAR QUE C SI
.                  PUEDE TENER UNA X ANTES
                   X_ERROR
  84D9 D6 10                       LDAB X_
  84DB C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  X's ANTES DE LA M
  84DD 26 DA                       BNE ERROR_SALTO
                   V_ERROR
  84DF D6 11                       LDAB V
  84E1 C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  V's ANTES DE LA M
  84E3 26 D4                       BNE ERROR_SALTO
  84E5 81 58                       CMPA #'X
  84E7 27 06                       BEQ FIN_ERROR           * VALIDAR QUE X SI
.                  PUEDE TENER UNA I ANTES
                   I_ERROR
  84E9 D6 12                       LDAB I
  84EB C1 00                       CMPB #0                 *VALIDA QUE NO HAYA
.                  I's ANTES DE LA M
  84ED 26 CA                       BNE ERROR_SALTO
                   FIN_ERROR
  84EF 39                          RTS

                   LIMPIEZA
  84F0 7F 00 06            CLR M
  84F3 7F 00 07            CLR D
  84F6 7F 00 08            CLR C
  84F9 7F 00 09            CLR L
  84FC 7F 00 10            CLR X_
  84FF 7F 00 11            CLR V
  8502 7F 00 12            CLR I
  8505 7F 00 14            CLR CHARNUMBER
  8508 7F 00 24            CLR BANDTRADUC
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      15

  850B 7F 00 02            CLR BAND_ERROR

  850E CE 01 30            LDX #DIRINPUT
  8511 18 CE 00 50         LDY #DIRESULTADO
                   LIMOSA
  8515 C6 FF               LDAB #$FF
  8517 18 E7 00            STAB $00,Y   ** EMPIEZA EN LA $50
  851A 18 08               INY
  851C 18 8C 00 F0         CPY #$00F0   ** TERMINA EN LA 70
  8520 26 F3               BNE LIMOSA
  8522 18 CE 01 30         LDY #DIRINPUT  ** EMPIEZA EN LA 30
                   LIMOSO
  8526 C6 FF               LDAB #$FF
  8528 18 E7 00            STAB $00,Y
  852B 18 08               INY
  852D 18 8C 01 50         CPY #$0150     ** TERMINA EN LA 130
  8531 26 F3               BNE LIMOSO
  8533 7F 00 53            CLR UNIDAD
  8536 7F 00 52            CLR DECENA
  8539 7F 00 51            CLR CENTENA
  853C 7F 00 50            CLR MIL
  853F 39                  RTS

                   ESCRIBEINPARENTESIS
  8540 86 28               LDAA #'(
  8542 97 70               STAA $0070
  8544 39                  RTS

                   ORIGEN_ARABIGO
  8545 18 CE 01 30         LDY #DIRINPUT       ** EL INPUT
  8549 7E 85 6C            JMP ESCRIBE_MUCHO_TEXTO
                   ORIGEN_ROMANO
  854C 18 CE 00 50         LDY #DIRESULTADO         ** LA TRADUCCION
  8550 18 A6 00            LDAA $00,Y
  8553 7E 85 7D            JMP ENTRADA_MILES

                   ENTRADA_INTERMEDIA_UNIDADES
  8556 7E 89 20            JMP ENTRADA_UNIDADES
                   ENTRADA_INTERMEDIA_DECENAS
  8559 7E 86 EA            JMP ENTRADA_DECENAS
                   ENTRADA_INTERMEDIA_CENTENAS
  855C 7E 86 0E            JMP ENTRADA_CENTENAS

                   **SUBRUTINA PARA ESCRIBIR LOS NUMEROS TEXTUALES
                   MUCHO_TEXTO
  855F BD 85 40            JSR ESCRIBEINPARENTESIS
  8562 D6 24               LDAB BANDTRADUC
  8564 C1 01               CMPB #1
  8566 27 DD               BEQ ORIGEN_ARABIGO
  8568 C1 02               CMPB #2
  856A 27 E0               BEQ ORIGEN_ROMANO
                   ESCRIBE_MUCHO_TEXTO
  856C CE 00 71            LDX #DIRTEXTUAL
  856F D6 14               LDAB CHARNUMBER
  8571 C1 01               CMPB #1
  8573 27 E1               BEQ ENTRADA_INTERMEDIA_UNIDADES
  8575 C1 02               CMPB #2
  8577 27 E0               BEQ ENTRADA_INTERMEDIA_DECENAS
  8579 C1 03               CMPB #3
  857B 27 DF               BEQ ENTRADA_INTERMEDIA_CENTENAS
                   ENTRADA_MILES
  857D CE 00 71            LDX #DIRTEXTUAL
  8580 18 E6 00            LDAB $00,Y                              ** CARACTER
  8583 18 3C               PSHY
  8585 C1 30               CMPB #'0
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      16

  8587 27 24               BEQ ESCRIBE_MIL_FIN
  8589 C1 31               CMPB #'1
  858B 27 27               BEQ ESCRIBE_MIL
  858D C1 32               CMPB #'2
  858F 27 2D               BEQ ESCRIBE_DOS_MIL
  8591 C1 33               CMPB #'3
  8593 27 33               BEQ ESCRIBE_TRES_MIL
  8595 C1 34               CMPB #'4
  8597 27 39               BEQ ESCRIBE_CUATRO_MIL
  8599 C1 35               CMPB #'5
  859B 27 3F               BEQ ESCRIBE_CINCO_MIL
  859D C1 36               CMPB #'6
  859F 27 45               BEQ ESCRIBE_SEIS_MIL
  85A1 C1 37               CMPB #'7
  85A3 27 4B               BEQ ESCRIBE_SIETE_MIL
  85A5 C1 38               CMPB #'8
  85A7 27 51               BEQ ESCRIBE_OCHO_MIL
  85A9 C1 39               CMPB #'9
  85AB 27 57               BEQ ESCRIBE_NUEVE_MIL

                   ESCRIBE_MIL_FIN
  85AD 18 38               PULY
  85AF 18 08               INY
  85B1 7E 86 0E            JMP ENTRADA_CENTENAS

                   ESCRIBE_MIL
  85B4 18 CE 31 C6         LDY #MILWORD
  85B8 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  85BB 7E 85 AD            JMP ESCRIBE_MIL_FIN

                   ESCRIBE_DOS_MIL
  85BE 18 CE 30 65         LDY #DOSWORD
  85C2 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  85C5 7E 85 B4            JMP ESCRIBE_MIL

                   ESCRIBE_TRES_MIL
  85C8 18 CE 30 69         LDY #TRESWORD
  85CC BD 89 B8            JSR CICLO_MUCHO_TEXTO
  85CF 7E 85 B4            JMP ESCRIBE_MIL

                   ESCRIBE_CUATRO_MIL
  85D2 18 CE 30 6E         LDY #CUATROWORD
  85D6 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  85D9 7E 85 B4            JMP ESCRIBE_MIL

                   ESCRIBE_CINCO_MIL
  85DC 18 CE 30 75         LDY #CINCOWORD
  85E0 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  85E3 7E 85 B4            JMP ESCRIBE_MIL

                   ESCRIBE_SEIS_MIL
  85E6 18 CE 30 7B         LDY #SEISWORD
  85EA BD 89 B8            JSR CICLO_MUCHO_TEXTO
  85ED 7E 85 B4            JMP ESCRIBE_MIL

                   ESCRIBE_SIETE_MIL
  85F0 18 CE 30 80         LDY #SIETEWORD
  85F4 BD 89 B8             JSR CICLO_MUCHO_TEXTO
  85F7 7E 85 B4            JMP ESCRIBE_MIL

                   ESCRIBE_OCHO_MIL
  85FA 18 CE 30 86         LDY #OCHOWORD
  85FE BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8601 7E 85 B4            JMP ESCRIBE_MIL

  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      17

                   ESCRIBE_NUEVE_MIL
  8604 18 CE 30 8B         LDY #NUEVEWORD
  8608 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  860B 7E 85 B4            JMP ESCRIBE_MIL

                   ENTRADA_CENTENAS
  860E 18 E6 00            LDAB $00,Y                              ** CARACTER
  8611 18 3C               PSHY
  8613 C1 30               CMPB #'0
  8615 27 1E               BEQ  ESCRIBE_CIENTOS_FIN
  8617 C1 31               CMPB #'1
  8619 27 21               BEQ ESCRIBE_CIEN
  861B C1 32               CMPB #'2
  861D 27 63               BEQ ESCRIBE_DOS_CIENTOS
  861F C1 33               CMPB #'3
  8621 27 6A               BEQ ESCRIBE_TRES_CIENTOS
  8623 C1 34               CMPB #'4
  8625 27 71               BEQ ESCRIBE_CUATRO_CIENTOS
  8627 C1 35               CMPB #'5
  8629 27 78               BEQ ESCRIBE_CINCO_CIENTOS
  862B 7E 86 AD            JMP OTRAS_CENTENAS
                   ESCRIBE_CIENTOS
  862E 18 CE 31 9B         LDY #CIENTOSWORD
  8632 BD 89 B8            JSR CICLO_MUCHO_TEXTO
                   ESCRIBE_CIENTOS_FIN
  8635 18 38               PULY
  8637 18 08               INY
  8639 7E 86 EA            JMP ENTRADA_DECENAS

                   ESCRIBE_CIEN
                           *CHECAMOS DECENAS
  863C 18 38               PULY
  863E 18 08               INY
  8640 18 E6 00            LDAB $00,Y
  8643 C1 30               CMPB #'0
  8645 26 21               BNE ESCRIBE_CIENTO_DEC
  8647 18 09               DEY
  8649 18 3C               PSHY
                           * CHECAMOS UNIDADES
  864B 18 38               PULY
  864D 18 08               INY
  864F 18 08               INY
  8651 18 E6 00            LDAB $00,Y
  8654 C1 30               CMPB #'0
  8656 26 17               BNE ESCRIBE_CIENTO_UNI
  8658 18 09               DEY
  865A 18 09               DEY
  865C 18 3C               PSHY
  865E 18 CE 31 8F         LDY #CIENWORD
  8662 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8665 7E 86 35            JMP ESCRIBE_CIENTOS_FIN
                   ESCRIBE_CIENTO_DEC
  8668 18 09               DEY
  866A 18 3C               PSHY
  866C 7E 86 78            JMP ESCRIBE_CIENTO
                   ESCRIBE_CIENTO_UNI
  866F 18 09               DEY
  8671 18 09               DEY
  8673 18 3C               PSHY
  8675 7E 86 78            JMP ESCRIBE_CIENTO

                   ESCRIBE_CIENTO
  8678 18 CE 31 94         LDY #CIENTOWORD
  867C BD 89 B8            JSR CICLO_MUCHO_TEXTO
  867F 7E 86 35            JMP ESCRIBE_CIENTOS_FIN
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      18


                   ESCRIBE_DOS_CIENTOS
  8682 18 CE 30 65         LDY #DOSWORD
  8686 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8689 09                  DEX
  868A 7E 86 2E            JMP ESCRIBE_CIENTOS

                   ESCRIBE_TRES_CIENTOS
  868D 18 CE 30 69         LDY #TRESWORD
  8691 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8694 09                  DEX
  8695 7E 86 2E            JMP ESCRIBE_CIENTOS

                   ESCRIBE_CUATRO_CIENTOS
  8698 18 CE 30 6E         LDY #CUATROWORD
  869C BD 89 B8            JSR CICLO_MUCHO_TEXTO
  869F 09                  DEX
  86A0 7E 86 2E            JMP ESCRIBE_CIENTOS

                   ESCRIBE_CINCO_CIENTOS
  86A3 18 CE 31 A3         LDY #QUINIENTOSWORD
  86A7 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  86AA 7E 86 35            JMP ESCRIBE_CIENTOS_FIN

                   OTRAS_CENTENAS
  86AD C1 36               CMPB #'6
  86AF 27 0F               BEQ ESCRIBE_SEIS_CIENTOS
  86B1 C1 37               CMPB #'7
  86B3 27 16               BEQ ESCRIBE_SIETE_CIENTOS
  86B5 C1 38               CMPB #'8
  86B7 27 1C               BEQ ESCRIBE_OCHO_CIENTOS
  86B9 C1 39               CMPB #'9
  86BB 27 23               BEQ ESCRIBE_NUEVE_CIENTOS
  86BD 7E 86 2E            JMP ESCRIBE_CIENTOS

                   ESCRIBE_SEIS_CIENTOS
  86C0 18 CE 30 7B         LDY #SEISWORD
  86C4 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  86C7 09                  DEX
  86C8 7E 86 2E            JMP ESCRIBE_CIENTOS

                   ESCRIBE_SIETE_CIENTOS
  86CB 18 CE 31 AE         LDY #SETECIENTOSWORD
  86CF BD 89 B8            JSR CICLO_MUCHO_TEXTO
  86D2 7E 86 35            JMP ESCRIBE_CIENTOS_FIN

                   ESCRIBE_OCHO_CIENTOS
  86D5 18 CE 30 86         LDY #OCHOWORD
  86D9 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  86DC 09                  DEX
  86DD 7E 86 2E            JMP ESCRIBE_CIENTOS

                   ESCRIBE_NUEVE_CIENTOS
  86E0 18 CE 31 BA         LDY #NOVECIENTOSWORD
  86E4 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  86E7 7E 86 35            JMP ESCRIBE_CIENTOS_FIN

                   ENTRADA_DECENAS
  86EA 18 E6 00            LDAB $00,Y                              ** CARACTER
  86ED 18 3C               PSHY
  86EF C1 30               CMPB #'0
  86F1 27 0B               BEQ FIN_ENTRADA_DECENAS
  86F3 C1 31               CMPB #'1
  86F5 27 11               BEQ ESCRIBE_DIECI
  86F7 C1 32               CMPB #'2
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      19

  86F9 27 0A               BEQ ESCRIBE_SALTO_VEINTI
  86FB 7E 88 1E            JMP COMPARA_TANTOS
                   FIN_ENTRADA_DECENAS
  86FE 18 38               PULY
  8700 18 08               INY
  8702 7E 89 20            JMP ENTRADA_UNIDADES
                   ESCRIBE_SALTO_VEINTI
  8705 7E 87 86            JMP ESCRIBE_VEINTI
                   ESCRIBE_DIECI
  8708 18 38               PULY
  870A 18 08               INY
  870C 18 E6 00            LDAB $00,Y
  870F 18 09               DEY
  8711 18 3C               PSHY
  8713 C1 30               CMPB #'0
  8715 27 1E               BEQ ESCRIBE_DIEZ
  8717 C1 31               CMPB #'1
  8719 27 24               BEQ ESCRIBE_ONCE
  871B C1 32               CMPB #'2
  871D 27 2A               BEQ ESCRIBE_DOCE
  871F C1 33               CMPB #'3
  8721 27 30               BEQ ESCRIBE_TRECE
  8723 C1 34               CMPB #'4
  8725 27 36               BEQ ESCRIBE_CATORCE
  8727 C1 35               CMPB #'5
  8729 27 3C               BEQ ESCRIBE_QUINCE
  872B C1 36               CMPB #'6
  872D 27 42               BEQ ESCRIBE_DIECISEIS

  872F 7E 87 7B            JMP ESCRIBE_DIECIWORD
  8732 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_DIEZ
  8735 18 CE 30 97         LDY #DIEZWORD
  8739 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  873C 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_ONCE
  873F 18 CE 30 9C         LDY #ONCEWORD
  8743 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8746 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_DOCE
  8749 18 CE 30 A1         LDY #DOCEWORD
  874D BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8750 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_TRECE
  8753 18 CE 30 A6         LDY #TRECEWORD
  8757 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  875A 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_CATORCE
  875D 18 CE 30 AC         LDY #CATORCEWORD
  8761 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8764 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_QUINCE
  8767 18 CE 30 B4         LDY #QUINCEWORD
  876B BD 89 B8            JSR CICLO_MUCHO_TEXTO
  876E 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_DIECISEIS
  8771 18 CE 30 BB         LDY #DIECISEISWORD
  8775 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8778 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_DIECIWORD
  877B 18 CE 30 91         LDY #DIECIWORD
  877F BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8782 09                  DEX
  8783 7E 86 FE            JMP FIN_ENTRADA_DECENAS
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      20


                   ESCRIBE_VEINTI
  8786 18 38               PULY            **ESTO SE VE MEDIO RARO
  8788 18 08               INY
  878A 18 E6 00            LDAB $00,Y                              ** Revisamos
.                  caracter de unidades
  878D 18 3C               PSHY
  878F C1 30               CMPB #'0
  8791 27 27               BEQ ESCRIBE_VEINTE
  8793 C1 31               CMPB #'1
  8795 27 2D               BEQ ESCRIBE_VEINTIUNO
  8797 C1 32               CMPB #'2
  8799 27 33               BEQ ESCRIBE_VEINTIDOS
  879B C1 33               CMPB #'3
  879D 27 39               BEQ ESCRIBE_VEINTITRES
  879F C1 34               CMPB #'4
  87A1 27 3F               BEQ ESCRIBE_VEINTICUATRO
  87A3 C1 35               CMPB #'5
  87A5 27 45               BEQ ESCRIBE_VEINTICINCO
  87A7 C1 36               CMPB #'6
  87A9 27 4B               BEQ ESCRIBE_VEINTISEIS
  87AB C1 37               CMPB #'7
  87AD 27 51               BEQ ESCRIBE_VEINTISIETE
  87AF C1 38               CMPB #'8
  87B1 27 57               BEQ ESCRIBE_VEINTIOCHO
  87B3 C1 39               CMPB #'9
  87B5 27 5D               BEQ ESCRIBE_VEINTINUEVE
  87B7 7E 89 A6            JMP FIN_MUCHO_TEXTO             **SE IRIA AL FIN

                   *VEINTES

                   ESCRIBE_VEINTE
  87BA 18 CE 30 E5         LDY #VEINTEWORD
  87BE BD 89 B8            JSR CICLO_MUCHO_TEXTO
  87C1 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTIUNO
  87C4 18 CE 30 EC         LDY #VEINTIUNOWORD
  87C8 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  87CB 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTIDOS
  87CE 18 CE 30 F6         LDY #VEINTIDOSWORD
  87D2 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  87D5 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTITRES
  87D8 18 CE 31 00         LDY #VEINTITRESWORD
  87DC BD 89 B8            JSR CICLO_MUCHO_TEXTO
  87DF 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTICUATRO
  87E2 18 CE 31 0B         LDY #VEINTICUATROWORD
  87E6 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  87E9 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTICINCO
  87EC 18 CE 31 18         LDY #VEINTICINCOWORD
  87F0 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  87F3 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTISEIS
  87F6 18 CE 31 24         LDY #VEINTISEISWORD
  87FA BD 89 B8            JSR CICLO_MUCHO_TEXTO
  87FD 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTISIETE
  8800 18 CE 31 2F         LDY #VEINTISIETEWORD
  8804 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8807 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTIOCHO
  880A 18 CE 31 3B         LDY #VEINTIOCHOWORD
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      21

  880E BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8811 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_VEINTINUEVE
  8814 18 CE 31 46         LDY #VEINTINUEVEWORD
  8818 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  881B 7E 89 A6            JMP FIN_MUCHO_TEXTO


                   COMPARA_TANTOS
  881E C1 33               CMPB #'3
  8820 27 0F               BEQ ESCRIBE_TREINTA
  8822 C1 34               CMPB #'4
  8824 27 2B               BEQ ESCRIBE_CUARENTA
  8826 C1 35               CMPB #'5
  8828 27 47               BEQ ESCRIBE_CINCUENTA
  882A C1 36               CMPB #'6
  882C 27 63               BEQ ESCRIBE_SESENTA
  882E 7E 88 B1            JMP COMPARA_OTROS_TANTOS


                   ***TREINTAS

                   ESCRIBE_TREINTA
  8831 18 CE 31 54         LDY #TREINTAWORD
  8835 BD 89 B8            JSR CICLO_MUCHO_TEXTO

  8838 18 38               PULY
  883A 18 08               INY
  883C 18 E6 00            LDAB $00,Y
  883F 18 09               DEY
  8841 18 3C               PSHY
  8843 C1 30               CMPB #'0
  8845 27 07               BEQ FIN_ESCRIBE_TREINTA

  8847 18 CE 31 52         LDY #YWORD
  884B BD 89 B8            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_TREINTA
  884E 7E 86 FE            JMP FIN_ENTRADA_DECENAS


                   **CUARENTAS
                   ESCRIBE_CUARENTA
  8851 18 CE 31 5C         LDY #CUARENTAWORD
  8855 BD 89 B8            JSR CICLO_MUCHO_TEXTO

  8858 18 38               PULY
  885A 18 08               INY
  885C 18 E6 00            LDAB $00,Y
  885F 18 09               DEY
  8861 18 3C               PSHY
  8863 C1 30               CMPB #'0
  8865 27 07               BEQ FIN_ESCRIBE_CUARENTA

  8867 18 CE 31 52         LDY #YWORD
  886B BD 89 B8            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_CUARENTA
  886E 7E 86 FE            JMP FIN_ENTRADA_DECENAS

                   **CINCUENTAS
                   ESCRIBE_CINCUENTA
  8871 18 CE 31 65         LDY #CINCUENTAWORD
  8875 BD 89 B8            JSR CICLO_MUCHO_TEXTO

  8878 18 38               PULY
  887A 18 08               INY
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      22

  887C 18 E6 00            LDAB $00,Y
  887F 18 09               DEY
  8881 18 3C               PSHY
  8883 C1 30               CMPB #'0
  8885 27 07               BEQ FIN_ESCRIBE_CINCUENTA

  8887 18 CE 31 52         LDY #YWORD
  888B BD 89 B8            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_CINCUENTA
  888E 7E 86 FE            JMP FIN_ENTRADA_DECENAS

                   **SESENTAS
                   ESCRIBE_SESENTA
  8891 18 CE 31 6F         LDY #SESENTAWORD
  8895 BD 89 B8            JSR CICLO_MUCHO_TEXTO

  8898 18 38               PULY
  889A 18 08               INY
  889C 18 E6 00            LDAB $00,Y
  889F 18 09               DEY
  88A1 18 3C               PSHY
  88A3 C1 30               CMPB #'0
  88A5 27 07               BEQ FIN_ESCRIBE_SESENTA

  88A7 18 CE 31 52         LDY #YWORD
  88AB BD 89 B8            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_SESENTA
  88AE 7E 86 FE            JMP FIN_ENTRADA_DECENAS

                   COMPARA_OTROS_TANTOS
  88B1 C1 37               CMPB #'7
  88B3 27 0B               BEQ ESCRIBE_SETENTA
  88B5 C1 38               CMPB #'8
  88B7 27 27               BEQ ESCRIBE_OCHENTA
  88B9 C1 39               CMPB #'9
  88BB 27 43               BEQ ESCRIBE_NOVENTA
  88BD 7E 86 FE            JMP FIN_ENTRADA_DECENAS


                   *SETENTAS
                   ESCRIBE_SETENTA
  88C0 18 CE 31 77         LDY #SETENTAWORD
  88C4 BD 89 B8            JSR CICLO_MUCHO_TEXTO

  88C7 18 38               PULY
  88C9 18 08               INY
  88CB 18 E6 00            LDAB $00,Y
  88CE 18 09               DEY
  88D0 18 3C               PSHY
  88D2 C1 30               CMPB #'0
  88D4 27 07               BEQ FIN_ESCRIBE_SETENTA

  88D6 18 CE 31 52         LDY #YWORD
  88DA BD 89 B8            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_SETENTA
  88DD 7E 86 FE            JMP FIN_ENTRADA_DECENAS

                   *OCHENTAS
                   ESCRIBE_OCHENTA
  88E0 18 CE 31 7F         LDY #OCHENTAWORD
  88E4 BD 89 B8            JSR CICLO_MUCHO_TEXTO


  88E7 18 38               PULY
  88E9 18 08               INY
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      23

  88EB 18 E6 00            LDAB $00,Y
  88EE 18 09               DEY
  88F0 18 3C               PSHY
  88F2 C1 30               CMPB #'0
  88F4 27 07               BEQ FIN_ESCRIBE_OCHENTA

  88F6 18 CE 31 52         LDY #YWORD
  88FA BD 89 B8            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_OCHENTA
  88FD 7E 86 FE            JMP FIN_ENTRADA_DECENAS

                   *NOVENTAS
                   ESCRIBE_NOVENTA
  8900 18 CE 31 87         LDY #NOVENTAWORD
  8904 BD 89 B8            JSR CICLO_MUCHO_TEXTO

  8907 18 38               PULY
  8909 18 08               INY
  890B 18 E6 00            LDAB $00,Y
  890E 18 09               DEY
  8910 18 3C               PSHY
  8912 C1 30               CMPB #'0
  8914 27 07               BEQ FIN_ESCRIBE_NOVENTA

  8916 18 CE 31 52         LDY #YWORD
  891A BD 89 B8            JSR CICLO_MUCHO_TEXTO
                   FIN_ESCRIBE_NOVENTA
  891D 7E 86 FE            JMP FIN_ENTRADA_DECENAS

                   ENTRADA_UNIDADES
  8920 18 E6 00            LDAB $00,Y                              ** CARACTER
  8923 18 3C               PSHY
                   *       CMPB #'0
                   *       BEQ CICLO_MUCHO_TEXTO
  8925 C1 31               CMPB #'1
  8927 27 23               BEQ ESCRIBE_UNO
  8929 C1 32               CMPB #'2
  892B 27 29               BEQ ESCRIBE_DOS
  892D C1 33               CMPB #'3
  892F 27 2F               BEQ ESCRIBE_TRES
  8931 C1 34               CMPB #'4
  8933 27 35               BEQ ESCRIBE_CUATRO
  8935 C1 35               CMPB #'5
  8937 27 3B               BEQ ESCRIBE_CINCO
  8939 C1 36               CMPB #'6
  893B 27 41               BEQ ESCRIBE_SEIS
  893D C1 37               CMPB #'7
  893F 27 47               BEQ ESCRIBE_SIETE
  8941 C1 38               CMPB #'8
  8943 27 4D               BEQ ESCRIBE_OCHO
  8945 C1 39               CMPB #'9
  8947 27 53               BEQ ESCRIBE_NUEVE

  8949 7E 89 A6            JMP FIN_MUCHO_TEXTO
                   ESCRIBE_UNO
  894C 18 CE 30 60         LDY #UNOWORD
  8950 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8953 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_DOS
  8956 18 CE 30 65         LDY #DOSWORD
  895A BD 89 B8            JSR CICLO_MUCHO_TEXTO
  895D 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_TRES
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      24

  8960 18 CE 30 69         LDY #TRESWORD
  8964 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8967 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_CUATRO
  896A 18 CE 30 6E         LDY #CUATROWORD
  896E BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8971 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_CINCO
  8974 18 CE 30 75         LDY #CINCOWORD
  8978 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  897B 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_SEIS
  897E 18 CE 30 7B         LDY #SEISWORD
  8982 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8985 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_SIETE
  8988 18 CE 30 80         LDY #SIETEWORD
  898C BD 89 B8            JSR CICLO_MUCHO_TEXTO
  898F 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_OCHO
  8992 18 CE 30 86         LDY #OCHOWORD
  8996 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  8999 7E 89 A6            JMP FIN_MUCHO_TEXTO

                   ESCRIBE_NUEVE
  899C 18 CE 30 8B         LDY #NUEVEWORD
  89A0 BD 89 B8            JSR CICLO_MUCHO_TEXTO
  89A3 7E 89 A6            JMP FIN_MUCHO_TEXTO


                   FIN_MUCHO_TEXTO
  89A6 09                  DEX
  89A7 86 29               LDAA #')
  89A9 A7 00               STAA $00,X
  89AB BD 89 B1            JSR PRIMER_MAYUSCULA
  89AE 7E 80 0C            JMP CYCLEIN

                   PRIMER_MAYUSCULA
  89B1 96 71                       LDAA DIRTEXTUAL
  89B3 80 20                       SUBA #$20
  89B5 97 71                       STAA DIRTEXTUAL
  89B7 39                          RTS

                   CICLO_MUCHO_TEXTO
  89B8 18 E6 00            LDAB $00,Y              * TOMA CARACTER DEL FCC
  89BB E7 00                       STAB $00,X      * ESCRIBE EL CHAR EN LA DIR
.                  DE X
  89BD 08                          INX
  89BE 18 08                       INY                     * INCREMENTAMOS X Y Y
  89C0 C1 20                       CMPB #$20        * ASCII DE ESPACIO
  89C2 26 F4                       BNE CICLO_MUCHO_TEXTO   * MIENTRAS NO
.                  ENCONTREMOS UN PUNTO(.) SE REPITE
  89C4 18 09                       DEY
  89C6 39                          RTS


                                           *------------------------------------
.                  --
                                           *  ESPACIO PARA LAS CADENAS A MOSTRAR
                                           *------------------------------------
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      25

.                  --
                                           ORG $3000
  3000 45 52 52 4F MENSAJE_E_RANGO         FCC "ERROR-01 NUMERO MUY GRANDE."
. 3004 52 2D 30 31 *28
. 3008 20 35 55 4D
. 300C 45 52 4F 20
. 3010 4D 55 59 32
. 3014 47 52 41 4E
. 3018 44 45 2E
  301B 45 52 52 4F MENSAJE_E_ARABIGO       FCC "ERROR-02 NUMERO ARABIGO
. 301F 52 2D 30 32 INCORRECTO."  *30
. 3023 20 4E 55 4D
. 3027 45 52 4F 20
. 302B 41 52 41 42
. 302F 49 47 4F 20
. 3033 49 4E 43 4F
. 3037 52 52 45 43
. 303B 54 4F 2E
  303E 45 52 52 4F MENSAJE_E_ROMANO        FCC "ERROR-03 NUMERO ROMANO
. 3042 52 2D 30 33 INCORRECTO."   *29 CARACTERES
. 3046 20 4E 55 4D
. 304A 45 52 4F 20
. 304E 52 4F 4D 41
. 3052 4E 4F 20 49
. 3056 4E 43 4F 52
. 305A 52 45 43 54
. 305E 4F 2E

                                           *------------------------------------
.                  --
                                           * FCC PARA LA TRADUCCION A LETRAS
                                           *------------------------------------
.                  --
  3060 75 6E 6F 20 UNOWORD                                 FCC "uno  "
. 3064 20
  3065 64 6F 73 20 DOSWORD                                 FCC "dos "
  3069 74 72 65 73 TRESWORD                                FCC     "tres "
. 306D 20
  306E 63 75 61 74 CUATROWORD                              FCC     "cuatro "
. 3072 72 6F 20
  3075 63 69 6E 63 CINCOWORD                               FCC     "cinco "
. 3079 6F 20
  307B 73 65 69 73 SEISWORD                                FCC     "seis "
. 307F 20
  3080 73 69 65 74 SIETEWORD                               FCC     "siete "
. 3084 65 20
  3086 6F 63 68 6F OCHOWORD                                FCC     "ocho "
. 308A 20
  308B 6E 75 65 76 NUEVEWORD                               FCC     "nueve "
. 308F 65 20
  3091 64 69 65 63 DIECIWORD                               FCC "dieci "
. 3095 69 20
  3097 64 69 65 7A DIEZWORD                                FCC     "diez "
. 309B 20
  309C 6F 6E 63 65 ONCEWORD                                FCC "once "
. 30A0 20
  30A1 64 6F 63 65 DOCEWORD                                FCC "doce "
. 30A5 20
  30A6 74 72 65 63 TRECEWORD                               FCC "trece "
. 30AA 65 20
  30AC 63 61 74 6F CATORCEWORD                             FCC "catorce "
. 30B0 72 63 65 20
  30B4 71 75 69 6E QUINCEWORD                              FCC "quince "
. 30B8 63 65 20
  30BB 64 69 65 63 DIECISEISWORD                   FCC "diecisEis "
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      26

. 30BF 69 73 45 69
. 30C3 73 20
  30C5 64 69 65 63 DIECISIETEWORD                  FCC "diecisiete "
. 30C9 69 73 69 65
. 30CD 74 65 20
  30D0 64 69 65 63 DIECIOCHOWORD                   FCC "dieciocho "
. 30D4 69 6F 63 68
. 30D8 6F 20
  30DA 64 69 65 63 DIECINUEVEWORD                  FCC "diecinueve "
. 30DE 69 6E 75 65
. 30E2 76 65 20
  30E5 76 65 69 6E VEINTEWORD                              FCC "veinte "
. 30E9 74 65 20
  30EC 76 65 69 6E VEINTIUNOWORD                   FCC "veintiuno "
. 30F0 74 69 75 6E
. 30F4 6F 20
  30F6 76 65 69 6E VEINTIDOSWORD                   FCC "veintidOs "
. 30FA 74 69 64 4F
. 30FE 73 20
  3100 76 65 69 6E VEINTITRESWORD                  FCC "veintitrEs "
. 3104 74 69 74 72
. 3108 45 73 20
  310B 76 65 69 6E VEINTICUATROWORD                FCC "veinticuatro "
. 310F 74 69 63 75
. 3113 61 74 72 6F
. 3117 20
  3118 76 65 69 6E VEINTICINCOWORD                 FCC "veinticinco "
. 311C 74 69 63 69
. 3120 6E 63 6F 20
  3124 76 65 69 6E VEINTISEISWORD                  FCC "veintisEis "
. 3128 74 69 73 45
. 312C 69 73 20
  312F 76 65 69 6E VEINTISIETEWORD                 FCC "veintisiete "
. 3133 74 69 73 69
. 3137 65 74 65 20
  313B 76 65 69 6E VEINTIOCHOWORD                  FCC "veintiocho "
. 313F 74 69 6F 63
. 3143 68 6F 20
  3146 76 65 69 6E VEINTINUEVEWORD                 FCC "veintinueve "
. 314A 74 69 6E 75
. 314E 65 76 65 20
  3152 79 20       YWORD                                   FCC "y "
  3154 74 72 65 69 TREINTAWORD                             FCC "treinta "
. 3158 6E 74 61 20
  315C 63 75 61 72 CUARENTAWORD                    FCC "cuarenta "
. 3160 65 6E 74 61
. 3164 20
  3165 63 69 6E 63 CINCUENTAWORD                   FCC "cincuenta "
. 3169 75 65 6E 74
. 316D 61 20
  316F 73 65 73 65 SESENTAWORD                             FCC "sesenta "
. 3173 6E 74 61 20
  3177 73 65 74 65 SETENTAWORD                             FCC "setenta "
. 317B 6E 74 61 20
  317F 6F 63 68 65 OCHENTAWORD                             FCC "ochenta "
. 3183 6E 74 61 20
  3187 6E 6F 76 65 NOVENTAWORD                             FCC "noventa "
. 318B 6E 74 61 20
  318F 63 69 65 6E CIENWORD                                FCC "cien "
. 3193 20
  3194 63 69 65 6E CIENTOWORD                              FCC "ciento "
. 3198 74 6F 20
  319B 63 69 65 6E CIENTOSWORD                             FCC "cientos "
. 319F 74 6F 73 20
  31A3 71 75 69 6E QUINIENTOSWORD                  FCC "quinientos "
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      27

. 31A7 69 65 6E 74
. 31AB 6F 73 20
  31AE 73 65 74 65 SETECIENTOSWORD                 FCC "setecientos "
. 31B2 63 69 65 6E
. 31B6 74 6F 73 20
  31BA 6E 6F 76 65 NOVECIENTOSWORD                 FCC "novecientos "
. 31BE 63 69 65 6E
. 31C2 74 6F 73 20
  31C6 6D 69 6C 20 MILWORD                                 FCC "mil "
                                                   *----------------------------
.                  ----------
                                                   *  FCC PARA LA TRADUCCION
.                  ARABIGO - ROMANO
                                                   *----------------------------
.                  ----------
  31CA 43 20       CIEN                            FCC "C "                *100
  31CC 43 43 20    DOSCIENTOS          FCC "CC "                   *200
  31CF 43 43 43 20 TRESCIENTOS         FCC "CCC "          *300
  31D3 43 44 20    CUATROCIENTOS       FCC "CD "                   *400
  31D6 44 20       QUINIENTOS          FCC "D "                    *500
  31D8 44 43 20    SEISCIENTOS         FCC "DC "                   *600
  31DB 44 43 43 20 SETECIENTOS             FCC "DCC "              *700
  31DF 44 43 43 43 OCHOCIENTOS             FCC "DCCC "             *800
. 31E3 20
  31E4 43 4D 20    NOVECIENTOS             FCC "CM "               *900
  31E7 58 20       DIEZ                    FCC "X "            *10
  31E9 58 58 20    VEINTE              FCC "XX "           *20
  31EC 58 58 58 20 TREINTA                 FCC "XXX "          *30
  31F0 58 4C 20    CUARENTA            FCC "XL "           *40
  31F3 4C 20       CINCUENTA           FCC "L "            *50
  31F5 4C 58 20    SESENTA                         FCC "LX "           *60
  31F8 4C 58 58 20 SETENTA                         FCC "LXX "          *70
  31FC 4C 58 58 58 OCHENTA                         FCC "LXXX "         *80
. 3200 20
  3201 58 43 20    NOVENTA                         FCC "XC "               *90
  3204 49 20       UNO                                     FCC "I "
.                  *1
  3206 49 49 20    DOS                                     FCC "II "
.                  *2
  3209 49 49 49 20 TRES                            FCC "III "              *3
  320D 49 56 20    CUATRO                          FCC "IV "               *4
  3210 56 20       CINCO                           FCC "V "                *5
  3212 56 49 20    SEIS                            FCC "VI "               *6
  3215 56 49 49 20 SIETE                           FCC "VII "              *7
  3219 56 49 49 49 OCHO                            FCC "VIII "         *8
. 321D 20
  321E 49 58 20    NUEVE                           FCC "IX "           *9

                   ***********************************
                   * ATENCION A INTERRUPCION SERIAL
                   ***********************************
                           ORG     $F100
  F100 B6 10 2E            LDAA    SCSR
  F103 B6 10 2F            LDAA    SCDR
  F106 97 00               STAA    CARACTER_RECIBIDO
  F108 3B                  RTI

                   ***********************************
                   * VECTOR INTERRUPCION SERIAL
                   ***********************************
                           ORG     $FFD6
  FFD6 F1 00               FCB     $F1,$00


                   ***********************************
  ADDR B1 B2 B3 B4 E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      28

                   *RESET
                   ***********************************
                           ORG     $FFFE
  FFFE 80 00       RESET   FCB     $80,$00
                   ***********************************

                           END     $8000

  Symbol Table 

  CUARENTA           31F0
  ENTRADA_INTERMEDIA_UNIDADES 8556
  CIENTOSWORD        319B
  DIEZWORD           3097
  DIECIOCHOWORD      30D0
  MENSAJE_E_ROMANO   303E
  CUATROCIENTOS      31D3
  ERROR_ESCRITURA_ARABIGO 8491
  TRES               3209
  NUM_3_CENTENA      8149
  UNOWORD            3060
  NUM_2_DECENA       81CB
  CYCLEESMIL         807F
  ESCRIBE_CUATRO     896A
  CICLOLIMPIEZA1     80C0
  FIN_DECENA         81C0
  CICLOLIMPIEZA2     80D1
  SERIAL             8475
  ESCRIBE_DOS_MIL    85BE
  SESENTAWORD        316F
  NUEVE              321E
  OCHOCIENTOS        31DF
  ESCRIBE_ONCE       873F
  FIN_ISARABIGO      80F5
  SETECIENTOS        31DB
  NUM_4_DECENA       81DD
  FIN_ESCRIBE_NOVENTA 891D
  ERNUMRANGE         809D
  FIN_ESCRIBE_SETENTA 88DD
  CIENTOWORD         3194
  ESCRIBE_VEINTE     87BA
  ERROR              80FB
  ESCRIBE_MUCHO_TEXTO 856C
  NUEVEWORD          308B
  SETECIENTOSWORD    31AE
  ESCRIBE_VEINTI     8786
  MUCHO_TEXTO        855F
  FIN_ESCRIBE_OCHENTA 88FD
  FIN_ENTRADA_DECENAS 86FE
  QUINIENTOS         31D6
  NUM_4_CENTENA      8152
  MENSAJE_E_ARABIGO  301B
  VEINTIUNOWORD      30EC
  NUM_6_DECENA       81EF
  SIETE              3215
  YWORD              3152
  CASOCEXE           8343
  ESCENTE            808C
  C                  0008
  D                  0007
  SETENTAWORD        3177
  I                  0012
  NUM_2_UNIDAD       8247
  VEINTISEISWORD     3124
  L                  0009
  Symbol Table     E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      29

  CONTADOR_EXT       0016
  M                  0006
  CIENWORD           318F
  O                  0013
  BAND_ERROR         0002
  FIN_UNIDAD         823C
  ESCRIBE_CUARENTA   8851
  NUM_8_DECENA       8201
  ESCRIBE_QUINCE     8767
  V                  0011
  CINCUENTAWORD      3165
  VEINTISIETEWORD    312F
  ENTRADA_ROMANO     8299
  ESCRIBE_TRES       8960
  ESCRIBE_VEINTIUNO  87C4
  ESCRIBECHAR        843E
  CSCTL              105D
  ENTRADA_MILES      857D
  CASOLEXE           8377
  NUM_4_UNIDAD       8259
  CUARENTAWORD       315C
  NUM_5_CENTENA      815B
  ESCRIBE_NUEVE_MIL  8604
  ESCRIBE_SEIS_CIENTOS 86C0
  CASOO_ARABIGO      803F
  FIN_ESCRIBE_SESENTA 88AE
  VEINTITRESWORD     3100
  TRECEWORD          30A6
  X_                 0010
  ESCRIBE_OCHO_CIENTOS 86D5
  NUM_6_UNIDAD       826B
  ISARABIGO          80EB
  D_ERROR            84BF
  SCCR1              102C
  SCCR2              102D
  VEINTIOCHOWORD     313B
  ESCRIBE_DOS        8956
  ESCRIBE_CIENTO     8678
  CUENTA             8293
  I_ERROR            84E9
  DIECIWORD          3091
  ESCRIBE_SALTO_VEINTI 8705
  CASOXEXE           83C1
  SEISCIENTOS        31D8
  NUM_8_UNIDAD       827D
  BAUD               102B
  CIEN               31CA
  BANDTRADUC         0024
  ESCRIBE_VEINTINUEVE 8814
  NUM_6_CENTENA      8164
  ENTRADA_CENTENAS   860E
  CINCO              3210
  ONCEWORD           309C
  DOSCIENTOS         31CC
  CICLO              8010
  ENTRADA_UNIDADES   8920
  MILWORD            31C6
  QUINCEWORD         30B4
  ESCRIBE_CIENTOS_FIN 8635
  DOCEWORD           30A1
  ERROR_ARABIGO_SALTO 82AA
  ESDEC              8090
  NOVECIENTOS        31E4
  DIRINPUT           0130
  FIN_CENTENA        8135
  Symbol Table     E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      30

  ESCRIBE_SEIS_MIL   85E6
  TREINTAWORD        3154
  CINCUENTA          31F3
  X_ERROR            84D9
  CARACTER_RECIBIDO  0000
  ESCRIBE_VEINTISIETE 8800
  ESCRIBE_CUATRO_MIL 85D2
  DECENA             0052
  LIMPIEZA_SALTO     8432
  SALTOINTERMEDIO1   8315
  ERROR_ESCRITURA    84A0
  SALTOINTERMEDIO2   83FE
  CYCLEINPUT         828F
  ESCRIBE_NUEVE      899C
  DOS                3206
  CASOOK_ARABIGO     8047
  NUM_7_CENTENA      816D
  ESCRIBE_VEINTIOCHO 880A
  NOVENTAWORD        3187
  OPT2               1038
  ESCRIBE_TRECE      8753
  ESCRIBE_TRES_MIL   85C8
  MENSAJE_E_RANGO    3000
  VEINTINUEVEWORD    3146
  C_ERROR            84C9
  CASODEXE           8303
  ESMIL              8079
  DOSWORD            3065
  CASOOK_ROMANO      8429
  ESCRIBE_SIETE      8988
  ESCRIBE_OCHO_MIL   85FA
  NUM_1_DECENA       81C2
  ESCRIBE_VEINTISEIS 87F6
  ESCRIBE_CIEN       863C
  ESCRIBE_TREINTA    8831
  NUM_8_CENTENA      8176
  UNIDAD             0053
  DIECISIETEWORD     30C5
  ORIGEN_ROMANO      854C
  ROMANOTRADUCT      8053
  NUM_3_DECENA       81D4
  RESET              FFFE
  CASOMEXE           82D5
  OTRAS_CENTENAS     86AD
  TREINTA            31EC
  CONTADOR           0028
  TRESCIENTOS        31CF
  LIMOSA             8515
  SEISWORD           307B
  INICIALIZAR        80AA
  CUATROWORD         306E
  COMPARA_TANTOS     881E
  CICLO_MUCHO_TEXTO  89B8
  ESCRIBE_VEINTICINCO 87EC
  CHARNUMBER         0014
  ESCRIBE_CENTENA    810C
  VEINTIDOSWORD      30F6
  CINCOWORD          3075
  NUM_5_DECENA       81E6
  ERROR_CICLO        84AC
  ERROR_CICLO1       80FF
  LIMOSO             8526
  FIN_ESCRIBE_CUARENTA 886E
  ESCRIBEINPARENTESIS 8540
  BANDERA_ERROR      0015
  Symbol Table     E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      31

  ESCRIBE_DOCE       8749
  CASOVEXE           83EC
  NUM_9_CENTENA      817F
  CENTENA            0051
  HPRIO              103C
  NUM_1_UNIDAD       823E
  ESCRIBE_CIENTOS    862E
  ERROR_ROMANO       82B0
  ESCRIBE_CATORCE    875D
  SALTOINROMANO      8038
  TRESWORD           3069
  ESCRIBE_UNO        894C
  NUM_7_DECENA       81F8
  ESCRIBE_DIECI      8708
  SALTOINTERMEDIO1_ERROR 843B
  ESCRIBE_DECENA     8197
  OCHO               3219
  ESCRIBE_MIL_FIN    85AD
  SCSR               102E
  QUINIENTOSWORD     31A3
  NUM_3_UNIDAD       8250
  ESCRIBE_CINCO      8974
  DIEZ               31E7
  FIN                8460
  OCHOWORD           3086
  NUM_9_DECENA       820A
  ESCRIBE_NOVENTA    8900
  ESCRIBE_SETENTA    88C0
  L_ERROR            84CF
  ESCRIBE_CINCO_MIL  85DC
  NUM_5_UNIDAD       8262
  ESCRIBE_CIENTO_UNI 866F
  ESCRIBE_OCHENTA    88E0
  ENTRADA_DECENAS    86EA
  SEIS               3212
  NOVENTA            3201
  PRIMER_MAYUSCULA   89B1
  SETENTA            31F8
  ESCRIBE_NUEVE_CIENTOS 86E0
  ESCRIBE_VEINTITRES 87D8
  CUATRO             320D
  ENTRADARABIGOS     8016
  UNO                3204
  V_ERROR            84DF
  OCHENTA            31FC
  ESCRIBE_CIENTO_DEC 8668
  DDRD               1009
  NUM_7_UNIDAD       8274
  ESCRIBE_UNIDAD     8213
  OTRO_ERRORROM      83BB
  ESCRIBE_DIECISEIS  8771
  DIECINUEVEWORD     30DA
  ESCRIBE_CUATRO_CIENTOS 8698
  ESCRIBE_MIL        85B4
  NUM_1_CENTENA      8137
  DIRTEXTUAL         0071
  CYCLEIN            800C
  SCDR               102F
  ESCRIBE_SIETE_CIENTOS 86CB
  VEINTE             31E9
  SIETEWORD          3080
  ESCRIBE_DIECIWORD  877B
  FIN_ESCRIBE_CINCUENTA 888E
  ESCRIBE_VEINTIDOS  87CE
  NUM_9_UNIDAD       8286
  Symbol Table     E:\Repositorios\68hc11-1\Proyecto2.asc           PAGE      32

  CATORCEWORD        30AC
  ESCRIBE_VEINTICUATRO 87E2
  ESCRIBE_DOS_CIENTOS 8682
  CASOC              8320
  CASOD              82E7
  ORIGEN_ARABIGO     8545
  ESCRIBE_SESENTA    8891
  CASOI              840D
  ESCRIBE_OCHO       8992
  DIECISEISWORD      30BB
  CASOL              835B
  OCHENTAWORD        317F
  CASOM              82B6
  CICLO_ESCRITURA    8188
  ESCRIBE_DIEZ       8735
  FIN_MUCHO_TEXTO    89A6
  ESUNID             8094
  VEINTEWORD         30E5
  FIN_ESCRIBE_TREINTA 884E
  NOVECIENTOSWORD    31BA
  CICLOFIN           8464
  CASOV              83D3
  SESENTA            31F5
  ESCRIBE_CINCO_CIENTOS 86A3
  FIN_ERROR          84EF
  CASOX              8398
  CASOO_ROMANO       8421
  NUM_2_CENTENA      8140
  SPCR               1028
  ESCRIBE_CINCUENTA  8871
  ERROR_ARABIGO      80F6
  ERROR_SALTO        84B9
  ERRORROM           8355
  MIL                0050
  INICIO             8000
  ESCRIBE_SEIS       897E
  COMPARA_OTROS_TANTOS 88B1
  LIMPIEZA           84F0
  SALTOINTERMEDIO    8389
  ENTRADA_INTERMEDIA_DECENAS 8559
  VEINTICUATROWORD   310B
  ESCRIBE_SIETE_MIL  85F0
  ESCRIBE_TRES_CIENTOS 868D
  VEINTICINCOWORD    3118
  ENTRADA_INTERMEDIA_CENTENAS 855C
  DIRESULTADO        0050
